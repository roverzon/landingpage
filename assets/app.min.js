!function(){"use strict";angular.module("pandaApp",["app.core","app.landing","app.demo","app.signup","pascalprecht.translate"])}(),function(){"use strict";angular.module("app.core",["blocks.router","ui.router"])}(),function(){"use strict";angular.module("app.landing",["app.core","landing.home","landing.about","landing.career","landing.navbar","landing.feature"])}(),function(){"use strict";angular.module("app.demo",[])}(),function(){"use strict";angular.module("app.signup",[])}(),function(){"use strict";angular.module("blocks.router",["ui.router"])}(),function(){"use strict";angular.module("landing.about",["app.core"])}(),function(){"use strict";angular.module("landing.career",["app.core","ui.router"])}(),function(){"use strict";angular.module("landing.feature",[])}(),function(){angular.module("landing.home",["app.core"])}(),function(){"use strict";angular.module("landing.navbar",["ui.bootstrap","app.register"])}(),function(){"use strict";angular.module("app.register",["ui.bootstrap"])}(),function(){"use strict";function t(t){t.translations("en",{TITLE:"MarketPanda"}),t.translations("zh-t",{TITLE:"市場熊貓"}),t.translations("zh-s",{TITLE:"市场熊猫"})}angular.module("pandaApp").config(t),t.$inject=["$translateProvider"]}(),function(){"use strict";function t(t){t.configureState(n())}function n(){return[{state:"landing",config:{"abstract":!0,templateUrl:"./common/content.html"}}]}angular.module("app.landing").run(t),t.$inject=["routerHelper"]}(),function(){"use strict";function t(t){t.configureState(n())}function n(){return[{state:"demo",config:{templateUrl:"panda-demo.html",url:"/demo",controller:"DemoController",controllerAs:"DemoCtrl",title:"请求演示"}}]}angular.module("app.demo").run(t),t.$inject=["routerHelper"]}(),function(){"use strict";function t(){}angular.module("app.demo").controller("DemoController",t),t.$inject=[]}(),function(){"use strict";function t(t){}angular.module("app.signup").controller("SignupController",t),t.$inject=["AccountService"]}(),function(){"use strict";function t(t){t.configureState(n())}function n(){return[{state:"signup",config:{templateUrl:"panda-signup.html",url:"/signup",controller:"SignupController",controllerAs:"SignupCtrl",title:"注册"}}]}angular.module("app.signup").run(t),t.$inject=["routerHelper"]}(),function(){"use strict";function t(t,n,e){function r(t,r){function u(t,r){t.forEach(function(t){n.state(t.state,t.config)}),r&&!i&&(i=!0,e.otherwise(r))}function a(){return t.get()}function l(){c()}function c(){r.$on("$stateChangeSuccess",function(t,n,e,u,a){var l=o.docTitle+" | "+(n.title||"");document.body.scrollTop=document.documentElement.scrollTop=0,r.title=l,_cl_tracker.init(),_cl_tracker.push({url:n.url,targetName:l}),_cl_tracker.track("open_page")})}var i=!1,s={configureState:u,getStates:a};return l(),s}var o={docTitle:"ConvertLab"};this.$get=r,r.$inject=["$state","$rootScope"]}angular.module("blocks.router").provider("routerHelper",t),t.$inject=["$locationProvider","$stateProvider","$urlRouterProvider"]}(),function(){"use strict";function t(t){function n(n){function e(t){return t.data}function r(t){return console.log(t)}return t.post("http://host.51convert.cn/page/f45c9e364a0e4a82ab82dbf1049deb1b",n).then(e)["catch"](r)}return{postAccount:n}}angular.module("app.core").factory("AccountService",t),t.$inject=["$http"]}(),function(){"use strict";function t(t){var n=$("#career").offset().top-3.5*parseFloat($("#career").css("marginTop").replace(/auto/,0));$("#joinus").click(function(){$("html,body").animate({scrollTop:n},500)})}angular.module("landing.about").controller("AboutController",t),t.$inject=["$rootScope"]}(),function(){"use strict";function t(t){t.configureState(n())}function n(){return[{state:"landing.about",config:{templateUrl:"panda-about.html",url:"/about",controller:"AboutController",controllerAs:"AboutCtrl",title:"关於我们"}}]}angular.module("landing.about").run(t),t.$inject=["routerHelper"]}(),function(){"use strict";function t(t){t.configureState(n())}function n(){return[{state:"landing.careers",config:{templateUrl:"panda-career.html",url:"/careers/:id",title:"职缺招聘"}}]}angular.module("landing.career").run(t),t.$inject=["routerHelper"]}(),function(){"use strict";function t(){console.log("it is career page")}angular.module("landing.career").controller("CareerController",t),t.$inject=[]}(),function(){"use strict";function t(){}angular.module("landing.feature").controller("FeatureController",t),t.$inject=[]}(),function(){"use strict";function t(t){t.configureState(n())}function n(){return[{state:"landing.feature",config:{templateUrl:"panda-feature.html",url:"/features",title:"产品特色"}}]}angular.module("landing.feature").run(t),t.$inject=["routerHelper"]}(),function(){function t(t){function n(){return t.postAccount(e.account)}var e=this;e.account={},e.submit=n,$(".headline").hide().animate({left:"0px",opacity:"show"},1500),window.callback=function(){console.log("angular callback")}}angular.module("landing.home").controller("HomeController",t),t.$inject=["AccountService"]}(),function(){"use strict";function t(t){t.configureState(n(),"/")}function n(){return[{state:"landing.home",config:{templateUrl:"panda-home.html",url:"/",controller:"HomeController",controllerAs:"HomeCtrl",title:"首页"}}]}angular.module("landing.home").run(t),t.$inject=["routerHelper"]}(),function(){"use strict";function t(t,n,e,r){function o(){return t.open({animation:!0,templateUrl:"register.modal.html",controller:"RegisterController",controllerAs:"RegisterCtrl",size:"md"})}var u=this;u.scroll=!1,u.text="hello go go",u.openRegisterModal=o,r("TITLE").then(function(t){console.log(t)}),$("#try").on("scrollstart",function(){alert("Started scrolling!")})}angular.module("landing.navbar").controller("NavbarController",t),t.$inject=["$uibModal","$window","$scope","$translate"]}(),function(){"use strict";function t(t,n){function e(){t.postAccount(o.account).then(function(t){t&&n.dismiss("cancel")})}function r(){n.dismiss("cancel")}var o=this;o.account={},o.submitAccount=e,o.cancel=r}angular.module("app.register").controller("RegisterController",t),t.$inject=["AccountService","$uibModalInstance"]}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5tb2R1bGUuanMiLCJjb3Jlcy9jb3JlLm1vZHVsZS5qcyIsImxhbmRpbmcvbGFuZGluZy5tb2R1bGUuanMiLCJkZW1vL2RlbW8ubW9kdWxlLmpzIiwic2lnbnVwL3NpZ251cC5tb2R1bGUuanMiLCJibG9jay9yb3V0ZXIvcm91dGVyLm1vZHVsZS5qcyIsImxhbmRpbmcvYWJvdXQvYWJvdXQubW9kdWxlLmpzIiwibGFuZGluZy9jYXJlZXIvY2FyZWVyLm1vZHVsZS5qcyIsImxhbmRpbmcvZmVhdHVyZS9mZWF0dXJlLm1vZHVsZS5qcyIsImxhbmRpbmcvaG9tZS9ob21lLm1vZHVsZS5qcyIsImxhbmRpbmcvbmF2YmFyL25hdmJhci5tb2R1bGUuanMiLCJtb2RhbC9yZWdpc3Rlci9yZWdpc3Rlci5tb2R1bGUuanMiLCJhcHAuY29uZmlnLmpzIiwibGFuZGluZy9sYW5kaW5nLnJvdXRlci5qcyIsImRlbW8vZGVtby5yb3V0ZXIuanMiLCJkZW1vL2RlbW9uLmN0cmwuanMiLCJzaWdudXAvc2lnbnVwLmN0cmwuanMiLCJzaWdudXAvc2lnbnVwLnJvdXRlLmpzIiwiYmxvY2svcm91dGVyL3JvdXRlci1oZWxwZXIucHJvdmlkZXIuanMiLCJjb3Jlcy9kYXRhU2VydmljZS9hY2NvdW50LnNlcnZpY2UuanMiLCJsYW5kaW5nL2Fib3V0L2Fib3V0LmN0cmwuanMiLCJsYW5kaW5nL2Fib3V0L2Fib3V0LnJvdXRlLmpzIiwibGFuZGluZy9jYXJlZXIvY2FyZWVyLnJvdXRlci5qcyIsImxhbmRpbmcvY2FyZWVyL2NhcnJlci5jdHJsLmpzIiwibGFuZGluZy9mZWF0dXJlL2ZlYXR1cmUuY3RybC5qcyIsImxhbmRpbmcvZmVhdHVyZS9mZWF0dXJlLnJvdXRlci5qcyIsImxhbmRpbmcvaG9tZS9ob21lLmN0cmwuanMiLCJsYW5kaW5nL2hvbWUvaG9tZS5yb3V0ZS5qcyIsImxhbmRpbmcvbmF2YmFyL25hdmJhci5jdHJsLmpzIiwibW9kYWwvcmVnaXN0ZXIvcmVnaXN0ZXIuY3RybC5qcyJdLCJuYW1lcyI6WyJhbmd1bGFyIiwibW9kdWxlIiwiYXBwQ29uZmlnIiwiJHRyYW5zbGF0ZVByb3ZpZGVyIiwidHJhbnNsYXRpb25zIiwiVElUTEUiLCJjb25maWciLCIkaW5qZWN0IiwiYXBwUnVuIiwicm91dGVySGVscGVyIiwiY29uZmlndXJlU3RhdGUiLCJnZXRTdGF0ZXMiLCJzdGF0ZSIsImFic3RyYWN0IiwidGVtcGxhdGVVcmwiLCJydW4iLCJ1cmwiLCJjb250cm9sbGVyIiwiY29udHJvbGxlckFzIiwidGl0bGUiLCJEZW1vQ29udHJvbGxlciIsIlNpZ251cENvbnRyb2xsZXIiLCJBY2NvdW50U2VydmljZSIsInJvdXRlckhlbHBlclByb3ZpZGVyIiwiJGxvY2F0aW9uUHJvdmlkZXIiLCIkc3RhdGVQcm92aWRlciIsIiR1cmxSb3V0ZXJQcm92aWRlciIsIlJvdXRlckhlbHBlciIsIiRzdGF0ZSIsIiRyb290U2NvcGUiLCJzdGF0ZXMiLCJvdGhlcndpc2VQYXRoIiwiZm9yRWFjaCIsImhhc090aGVyd2lzZSIsIm90aGVyd2lzZSIsImdldCIsImluaXQiLCJ1cGRhdGVEb2NUaXRsZSIsIiRvbiIsImV2ZW50IiwidG9TdGF0ZSIsInRvUGFyYW1zIiwiZnJvbVN0YXRlIiwiZnJvbVBhcmFtcyIsImRvY1RpdGxlIiwiZG9jdW1lbnQiLCJib2R5Iiwic2Nyb2xsVG9wIiwiZG9jdW1lbnRFbGVtZW50IiwiX2NsX3RyYWNrZXIiLCJwdXNoIiwidGFyZ2V0TmFtZSIsInRyYWNrIiwic2VydmljZSIsInRoaXMiLCIkZ2V0IiwicHJvdmlkZXIiLCIkaHR0cCIsInBvc3RBY2NvdW50IiwiYWNjb3VudCIsInBvc3RTdWNjZXNzIiwicmVzIiwiZGF0YSIsInBvc3RGYWlsZWQiLCJjb25zb2xlIiwibG9nIiwicG9zdCIsInRoZW4iLCJmYWN0b3J5IiwiQWJvdXRDb250cm9sbGVyIiwidG9wIiwiJCIsIm9mZnNldCIsInBhcnNlRmxvYXQiLCJjc3MiLCJyZXBsYWNlIiwiY2xpY2siLCJhbmltYXRlIiwiQ2FyZWVyQ29udHJvbGxlciIsIkZlYXR1cmVDb250cm9sbGVyIiwiSG9tZUNvbnRyb2xsZXIiLCJzdWJtaXQiLCJ2bSIsImhpZGUiLCJsZWZ0Iiwib3BhY2l0eSIsIndpbmRvdyIsImNhbGxiYWNrIiwiTmF2YmFyQ29udHJvbGxlciIsIiR1aWJNb2RhbCIsIiR3aW5kb3ciLCIkc2NvcGUiLCIkdHJhbnNsYXRlIiwib3BlblJlZ2lzdGVyTW9kYWwiLCJvcGVuIiwiYW5pbWF0aW9uIiwic2l6ZSIsInNjcm9sbCIsInRleHQiLCJvbiIsImFsZXJ0IiwiUmVnaXN0ZXJDb250cm9sbGVyIiwiJHVpYk1vZGFsSW5zdGFuY2UiLCJzdWJtaXRBY2NvdW50IiwiZGlzbWlzcyIsImNhbmNlbCJdLCJtYXBwaW5ncyI6IkNBQUEsV0FDQSxZQU1BQSxTQUFBQyxPQUFBLFlBQ0EsV0FDQSxjQUNBLFdBQ0EsYUFDQSw4QkNaQSxXQUNBLFlBTUFELFNBQ0FDLE9BQUEsWUFDQSxnQkFDQSxpQkNWQSxXQUNBLFlBT0FELFNBQUFDLE9BQUEsZUFDQSxXQUNBLGVBQ0EsZ0JBQ0EsaUJBQ0EsaUJBQ0EsdUJDZEEsV0FDQSxZQU9BRCxTQUNBQyxPQUFBLGtCQ1RBLFdBQ0EsWUFNQUQsU0FDQUMsT0FBQSxvQkNSQSxXQUNBLFlBT0FELFNBQUFDLE9BQUEsaUJBQ0EsaUJDVEEsV0FDQSxZQU1BRCxTQUNBQyxPQUFBLGlCQUNBLGdCQ1RBLFdBQ0EsWUFNQUQsU0FDQUMsT0FBQSxrQkFDQSxXQUNBLGlCQ1ZBLFdBQ0EsWUFNQUQsU0FDQUMsT0FBQSx5QkNSQSxXQU1BRCxRQUNBQyxPQUFBLGdCQUNBLGdCQ1JBLFdBQ0EsWUFNQUQsU0FDQUMsT0FBQSxrQkFDQSxlQUNBLG9CQ1ZBLFdBQ0EsWUFPQUQsU0FDQUMsT0FBQSxnQkFDQSxvQkNWQSxXQUNBLFlBWUEsU0FBQUMsR0FBQUMsR0FDQUEsRUFBQUMsYUFBQSxNQUNBQyxNQUFBLGdCQUdBRixFQUFBQyxhQUFBLFFBQ0FDLE1BQUEsU0FHQUYsRUFBQUMsYUFBQSxRQUNBQyxNQUFBLFNBaEJBTCxRQUNBQyxPQUFBLFlBQ0FLLE9BQUFKLEdBRUFBLEVBQUFLLFNBQUEseUJDWEEsV0FDQSxZQVlBLFNBQUFDLEdBQUFDLEdBQ0FBLEVBQUFDLGVBQUFDLEtBR0EsUUFBQUEsS0FDQSxRQUVBQyxNQUFBLFVBQ0FOLFFBQ0FPLFlBQUEsRUFDQUMsWUFBQSwyQkFoQkFkLFFBQ0FDLE9BQUEsZUFDQWMsSUFBQVAsR0FFQUEsRUFBQUQsU0FBQSxtQkNYQSxXQUNBLFlBWUEsU0FBQUMsR0FBQUMsR0FDQUEsRUFBQUMsZUFBQUMsS0FHQSxRQUFBQSxLQUNBLFFBRUFDLE1BQUEsT0FDQU4sUUFDQVEsWUFBQSxrQkFDQUUsSUFBQSxRQUNBQyxXQUFBLGlCQUNBQyxhQUFBLFdBQ0FDLE1BQUEsVUFuQkFuQixRQUNBQyxPQUFBLFlBQ0FjLElBQUFQLEdBRUFBLEVBQUFELFNBQUEsbUJDWEEsV0FDQSxZQVlBLFNBQUFhLE1BTkFwQixRQUNBQyxPQUFBLFlBQ0FnQixXQUFBLGlCQUFBRyxHQUVBQSxFQUFBYixjQ1hBLFdBQ0EsWUFhQSxTQUFBYyxHQUFBQyxJQU5BdEIsUUFDQUMsT0FBQSxjQUNBZ0IsV0FBQSxtQkFBQUksR0FFQUEsRUFBQWQsU0FBQSxxQkNaQSxXQUNBLFlBYUEsU0FBQUMsR0FBQUMsR0FDQUEsRUFBQUMsZUFBQUMsS0FHQSxRQUFBQSxLQUNBLFFBRUFDLE1BQUEsU0FDQU4sUUFDQVEsWUFBQSxvQkFDQUUsSUFBQSxVQUNBQyxXQUFBLG1CQUNBQyxhQUFBLGFBQ0FDLE1BQUEsUUFuQkFuQixRQUNBQyxPQUFBLGNBQ0FjLElBQUFQLEdBRUFBLEVBQUFELFNBQUEsbUJDWkEsV0FDQSxZQWFBLFNBQUFnQixHQUFBQyxFQUFBQyxFQUFBQyxHQWVBLFFBQUFDLEdBQUFDLEVBQUFDLEdBWUEsUUFBQW5CLEdBQUFvQixFQUFBQyxHQUNBRCxFQUFBRSxRQUFBLFNBQUFwQixHQUNBYSxFQUFBYixNQUFBQSxFQUFBQSxNQUFBQSxFQUFBTixVQUdBeUIsSUFBQUUsSUFDQUEsR0FBQSxFQUNBUCxFQUFBUSxVQUFBSCxJQUdBLFFBQUFwQixLQUFBLE1BQUFpQixHQUFBTyxNQUVBLFFBQUFDLEtBQ0FDLElBR0EsUUFBQUEsS0FDQVIsRUFBQVMsSUFBQSxzQkFDQSxTQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxHQUNBLEdBQUF4QixHQUFBYixFQUFBc0MsU0FBQSxPQUFBSixFQUFBckIsT0FBQSxHQUNBMEIsVUFBQUMsS0FBQUMsVUFBQUYsU0FBQUcsZ0JBQUFELFVBQUEsRUFDQWxCLEVBQUFWLE1BQUFBLEVBR0E4QixZQUFBYixPQUNBYSxZQUFBQyxNQUFBbEMsSUFBQXdCLEVBQUF4QixJQUFBbUMsV0FBQWhDLElBQ0E4QixZQUFBRyxNQUFBLGVBckNBLEdBQUFuQixJQUFBLEVBRUFvQixHQUNBM0MsZUFBQUEsRUFDQUMsVUFBQUEsRUFLQSxPQUZBeUIsS0FFQWlCLEVBdkJBLEdBQUEvQyxJQUNBc0MsU0FBQSxhQVFBVSxNQUFBQyxLQUFBNUIsRUFFQUEsRUFBQXBCLFNBQUEsU0FBQSxjQW5CQVAsUUFDQUMsT0FBQSxpQkFDQXVELFNBQUEsZUFBQWpDLEdBRUFBLEVBQUFoQixTQUFBLG9CQUFBLGlCQUFBLHlCQ1pBLFdBQ0EsWUFZQSxTQUFBZSxHQUFBbUMsR0FLQSxRQUFBQyxHQUFBQyxHQUtBLFFBQUFDLEdBQUFDLEdBQ0EsTUFBQUEsR0FBQUMsS0FHQSxRQUFBQyxHQUFBRixHQUNBLE1BQUFHLFNBQUFDLElBQUFKLEdBVEEsTUFBQUosR0FBQVMsS0FBQSxpRUFBQVAsR0FDQVEsS0FBQVAsR0FEQUgsU0FFQU0sR0FQQSxPQUNBTCxZQUFBQSxHQVJBMUQsUUFDQUMsT0FBQSxZQUNBbUUsUUFBQSxpQkFBQTlDLEdBRUFBLEVBQUFmLFNBQUEsWUNYQSxXQUNBLFlBWUEsU0FBQThELEdBQUF4QyxHQUNBLEdBQ0F5QyxHQUFBQyxFQUFBLFdBQUFDLFNBQUFGLElBQUEsSUFBQUcsV0FBQUYsRUFBQSxXQUFBRyxJQUFBLGFBQUFDLFFBQUEsT0FBQSxHQUNBSixHQUFBLFdBQUFLLE1BQUEsV0FDQUwsRUFBQSxhQUFBTSxTQUFBOUIsVUFBQXVCLEdBQUEsT0FWQXRFLFFBQ0FDLE9BQUEsaUJBQ0FnQixXQUFBLGtCQUFBb0QsR0FFQUEsRUFBQTlELFNBQUEsaUJDWEEsV0FDQSxZQWFBLFNBQUFDLEdBQUFDLEdBQ0FBLEVBQUFDLGVBQUFDLEtBR0EsUUFBQUEsS0FDQSxRQUVBQyxNQUFBLGdCQUNBTixRQUNBUSxZQUFBLG1CQUNBRSxJQUFBLFNBQ0FDLFdBQUEsa0JBQ0FDLGFBQUEsWUFDQUMsTUFBQSxVQW5CQW5CLFFBQ0FDLE9BQUEsaUJBQ0FjLElBQUFQLEdBRUFBLEVBQUFELFNBQUEsbUJDWkEsV0FDQSxZQWFBLFNBQUFDLEdBQUFDLEdBQ0FBLEVBQUFDLGVBQUFDLEtBR0EsUUFBQUEsS0FDQSxRQUVBQyxNQUFBLGtCQUNBTixRQUNBUSxZQUFBLG9CQUNBRSxJQUFBLGVBQ0FHLE1BQUEsVUFqQkFuQixRQUNBQyxPQUFBLGtCQUNBYyxJQUFBUCxHQUVBQSxFQUFBRCxTQUFBLG1CQ1pBLFdBQ0EsWUFZQSxTQUFBdUUsS0FHQWQsUUFBQUMsSUFBQSxxQkFUQWpFLFFBQ0FDLE9BQUEsa0JBQ0FnQixXQUFBLG1CQUFBNkQsR0FFQUEsRUFBQXZFLGNDWEEsV0FDQSxZQVlBLFNBQUF3RSxNQU5BL0UsUUFDQUMsT0FBQSxtQkFDQWdCLFdBQUEsb0JBQUE4RCxHQUVBQSxFQUFBeEUsY0NYQSxXQUNBLFlBYUEsU0FBQUMsR0FBQUMsR0FDQUEsRUFBQUMsZUFBQUMsS0FHQSxRQUFBQSxLQUNBLFFBRUFDLE1BQUEsa0JBQ0FOLFFBQ0FRLFlBQUEscUJBQ0FFLElBQUEsWUFDQUcsTUFBQSxVQWpCQW5CLFFBQ0FDLE9BQUEsbUJBQ0FjLElBQUFQLEdBRUFBLEVBQUFELFNBQUEsbUJDWkEsV0FZQSxRQUFBeUUsR0FBQTFELEdBUUEsUUFBQTJELEtBQ0EsTUFBQTNELEdBQUFvQyxZQUFBd0IsRUFBQXZCLFNBUkEsR0FBQXVCLEdBQUE1QixJQUNBNEIsR0FBQXZCLFdBQ0F1QixFQUFBRCxPQUFBQSxFQUdBVixFQUFBLGFBQUFZLE9BQUFOLFNBQUFPLEtBQUEsTUFBQUMsUUFBQSxRQUFBLE1BTUFDLE9BQUFDLFNBQUEsV0FDQXZCLFFBQUFDLElBQUEscUJBbkJBakUsUUFDQUMsT0FBQSxnQkFDQWdCLFdBQUEsaUJBQUErRCxHQUVBQSxFQUFBekUsU0FBQSxxQkNWQSxXQUNBLFlBY0EsU0FBQUMsR0FBQUMsR0FDQUEsRUFBQUMsZUFBQUMsSUFBQSxLQUdBLFFBQUFBLEtBQ0EsUUFFQUMsTUFBQSxlQUNBTixRQUNBUSxZQUFBLGtCQUNBRSxJQUFBLElBQ0FDLFdBQUEsaUJBQ0FDLGFBQUEsV0FDQUMsTUFBQSxRQXJCQW5CLFFBQ0FDLE9BQUEsZ0JBQ0FjLElBQUFQLEdBSUFBLEVBQUFELFNBQUEsbUJDYkEsV0FDQSxZQWFBLFNBQUFpRixHQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxHQU1BLFFBQUFDLEtBQ0EsTUFBQUosR0FBQUssTUFDQUMsV0FBQSxFQUNBakYsWUFBQSxzQkFDQUcsV0FBQSxxQkFDQUMsYUFBQSxlQUNBOEUsS0FBQSxPQVhBLEdBQUFkLEdBQUE1QixJQUNBNEIsR0FBQWUsUUFBQSxFQUNBZixFQUFBZ0IsS0FBQSxjQUNBaEIsRUFBQVcsa0JBQUFBLEVBWUFELEVBQUEsU0FBQXpCLEtBQUEsU0FBQWhELEdBQ0E2QyxRQUFBQyxJQUFBOUMsS0FHQW9ELEVBQUEsUUFBQTRCLEdBQUEsY0FBQSxXQUNBQyxNQUFBLHdCQTNCQXBHLFFBQ0FDLE9BQUEsa0JBQ0FnQixXQUFBLG1CQUFBdUUsR0FFQUEsRUFBQWpGLFNBQUEsWUFBQSxVQUFBLFNBQUEsaUJDWkEsV0FDQSxZQWFBLFNBQUE4RixHQUFBL0UsRUFBQWdGLEdBTUEsUUFBQUMsS0FFQWpGLEVBQUFvQyxZQUFBd0IsRUFBQXZCLFNBQUFRLEtBQUEsU0FBQU4sR0FDQUEsR0FDQXlDLEVBQUFFLFFBQUEsWUFLQSxRQUFBQyxLQUNBSCxFQUFBRSxRQUFBLFVBZkEsR0FBQXRCLEdBQUE1QixJQUNBNEIsR0FBQXZCLFdBQ0F1QixFQUFBcUIsY0FBQUEsRUFDQXJCLEVBQUF1QixPQUFBQSxFQVZBekcsUUFDQUMsT0FBQSxnQkFDQWdCLFdBQUEscUJBQUFvRixHQUVBQSxFQUFBOUYsU0FBQSxpQkFBQSIsImZpbGUiOiJhcHAubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7XG4gICd1c2Ugc3RyaWN0JztcbiAgICAvKipcbiAgKiBhcHAgTW9kdWxlXG4gICpcbiAgKiBEZXNjcmlwdGlvblxuICAqL1xuICBhbmd1bGFyLm1vZHVsZSgncGFuZGFBcHAnLCBbXG4gICAgJ2FwcC5jb3JlJyxcbiAgICAnYXBwLmxhbmRpbmcnLFxuICAgICdhcHAuZGVtbycsXG4gICAgJ2FwcC5zaWdudXAnLFxuICAgICdwYXNjYWxwcmVjaHQudHJhbnNsYXRlJ1xuICBdKTtcbn0pKCk7IiwiKGZ1bmN0aW9uKCl7XG4gICd1c2Ugc3RyaWN0JztcbiAgLyoqXG4gICogYXBwLmNvcmUgTW9kdWxlXG4gICpcbiAgKiBEZXNjcmlwdGlvblxuICAqL1xuICBhbmd1bGFyXG4gICAgLm1vZHVsZSgnYXBwLmNvcmUnLFtcbiAgICAgICdibG9ja3Mucm91dGVyJyxcbiAgICAgICd1aS5yb3V0ZXInXG4gICAgICBdKVxufSkoKTsiLCIoZnVuY3Rpb24oKXtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8qKlxuICAqIGFwcC5sYW5kaW5nIE1vZHVsZVxuICAqXG4gICogRGVzY3JpcHRpb25cbiAgKi9cbiAgYW5ndWxhci5tb2R1bGUoJ2FwcC5sYW5kaW5nJyxbXG4gICAgICAnYXBwLmNvcmUnLFxuICAgICAgJ2xhbmRpbmcuaG9tZScsXG4gICAgICAnbGFuZGluZy5hYm91dCcsXG4gICAgICAnbGFuZGluZy5jYXJlZXInLFxuICAgICAgJ2xhbmRpbmcubmF2YmFyJyxcbiAgICAgICdsYW5kaW5nLmZlYXR1cmUnLFxuICAgICBcbiAgICBdKVxufSkoKTsiLCIoZnVuY3Rpb24oKXtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8qKlxuICAqIGxhbmRpbmcuZGVtbyBNb2R1bGVcbiAgKlxuICAqIERlc2NyaXB0aW9uXG4gICovXG4gIGFuZ3VsYXJcbiAgICAubW9kdWxlKCdhcHAuZGVtbycsIFtdKTtcbn0pKCk7IiwiKGZ1bmN0aW9uKCl7XG4gICd1c2Ugc3RyaWN0JztcbiAgLyoqXG4gICogbGFuZGluZy5zaWdudXAgTW9kdWxlXG4gICpcbiAgKiBEZXNjcmlwdGlvblxuICAqL1xuICBhbmd1bGFyXG4gICAgLm1vZHVsZSgnYXBwLnNpZ251cCcsIFtdKTtcbn0pKCk7IiwiKGZ1bmN0aW9uKCl7XG4gICd1c2Ugc3RyaWN0JztcbiAvKipcbiAqIGJsb2Nrcy5yb3V0ZXIgTW9kdWxlXG4gKlxuICogRGVzY3JpcHRpb25cbiAqL1xuICBcbiAgYW5ndWxhci5tb2R1bGUoJ2Jsb2Nrcy5yb3V0ZXInLCBbXG4gICAgJ3VpLnJvdXRlcidcbiAgICBdKTtcbn0pKCk7IiwiKGZ1bmN0aW9uKCl7XG4gICd1c2Ugc3RyaWN0JztcbiAgLyoqXG4gICogbGFuZGluZy5hYm91dCBNb2R1bGVcbiAgKlxuICAqIERlc2NyaXB0aW9uXG4gICovXG4gIGFuZ3VsYXJcbiAgICAubW9kdWxlKCdsYW5kaW5nLmFib3V0JywgW1xuICAgICAgJ2FwcC5jb3JlJ1xuICAgIF0pXG59KSgpOyIsIihmdW5jdGlvbigpe1xuICAndXNlIHN0cmljdCc7XG4gIC8qKlxuICAqIGFwcC5jYXJlZXIgTW9kdWxlXG4gICpcbiAgKiBEZXNjcmlwdGlvblxuICAqL1xuICBhbmd1bGFyXG4gICAgLm1vZHVsZSgnbGFuZGluZy5jYXJlZXInLFtcbiAgICAgICdhcHAuY29yZScsXG4gICAgICAndWkucm91dGVyJ1xuICAgIF0pO1xufSkoKTsiLCIoZnVuY3Rpb24oKXtcbiAgJ3VzZSBzdHJpY3QnO1xuICAvKipcbiAgKiBsYW5kaW5nLmZlYXR1cmUgTW9kdWxlXG4gICpcbiAgKiBEZXNjcmlwdGlvblxuICAqL1xuICBhbmd1bGFyXG4gICAgLm1vZHVsZSgnbGFuZGluZy5mZWF0dXJlJywgW10pXG59KSgpOyIsIihmdW5jdGlvbigpe1xuICAvKipcbiAgKiBhcHAucGFuZGEtaG9tZSBNb2R1bGVcbiAgKlxuICAqIERlc2NyaXB0aW9uXG4gICovXG4gIGFuZ3VsYXJcbiAgICAubW9kdWxlKCdsYW5kaW5nLmhvbWUnLFtcbiAgICAgICdhcHAuY29yZSdcbiAgICBdKVxuXG59KSgpOyIsIihmdW5jdGlvbigpe1xuICAndXNlIHN0cmljdCc7XG4gIC8qKlxuICAqIGxhbmRpbmcubmF2YmFyIE1vZHVsZVxuICAqXG4gICogRGVzY3JpcHRpb25cbiAgKi9cbiAgYW5ndWxhclxuICAgIC5tb2R1bGUoJ2xhbmRpbmcubmF2YmFyJywgW1xuICAgICAgJ3VpLmJvb3RzdHJhcCcsXG4gICAgICAnYXBwLnJlZ2lzdGVyJ1xuICAgIF0pO1xufSkoKTsiLCIoZnVuY3Rpb24oKXtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8qKlxuICAqIGFwcC5yZWdpc3RlciBNb2R1bGVcbiAgKlxuICAqIERlc2NyaXB0aW9uXG4gICovXG4gIGFuZ3VsYXJcbiAgICAubW9kdWxlKCdhcHAucmVnaXN0ZXInLCBbXG4gICAgICAndWkuYm9vdHN0cmFwJ1xuICAgIF0pO1xufSkoKTsiLCIoZnVuY3Rpb24oKXtcbiAgJ3VzZSBzdHJpY3QnO1xuICAvKipcbiAgKiBhcHAgTW9kdWxlXG4gICpcbiAgKiBEZXNjcmlwdGlvblxuICAqL1xuICBhbmd1bGFyXG4gICAgLm1vZHVsZSgncGFuZGFBcHAnKVxuICAgIC5jb25maWcoYXBwQ29uZmlnKTtcblxuICAgIGFwcENvbmZpZy4kaW5qZWN0ID0gWyckdHJhbnNsYXRlUHJvdmlkZXInXTtcblxuICAgIGZ1bmN0aW9uIGFwcENvbmZpZygkdHJhbnNsYXRlUHJvdmlkZXIpe1xuICAgICAgJHRyYW5zbGF0ZVByb3ZpZGVyLnRyYW5zbGF0aW9ucygnZW4nLCB7XG4gICAgICAgIFRJVExFOiAnTWFya2V0UGFuZGEnXG4gICAgICB9KTtcblxuICAgICAgJHRyYW5zbGF0ZVByb3ZpZGVyLnRyYW5zbGF0aW9ucygnemgtdCcse1xuICAgICAgICBUSVRMRTogJ+W4guWgtOeGiuiykydcbiAgICAgIH0pO1xuXG4gICAgICAkdHJhbnNsYXRlUHJvdmlkZXIudHJhbnNsYXRpb25zKCd6aC1zJyx7XG4gICAgICAgIFRJVExFOiAn5biC5Zy654aK54yrJ1xuICAgICAgfSk7XG4gICAgfTtcblxufSkoKTsiLCIoZnVuY3Rpb24oKXtcbiAgJ3VzZSBzdHJpY3QnO1xuICAvKipcbiAgKiBhcHAubGFuZGluZyBNb2R1bGVcbiAgKlxuICAqIERlc2NyaXB0aW9uXG4gICovXG4gICAgYW5ndWxhclxuICAgIC5tb2R1bGUoJ2FwcC5sYW5kaW5nJylcbiAgICAucnVuKGFwcFJ1bik7XG5cbiAgICBhcHBSdW4uJGluamVjdCA9IFsncm91dGVySGVscGVyJ107XG5cbiAgICBmdW5jdGlvbiBhcHBSdW4oIHJvdXRlckhlbHBlciApe1xuICAgICAgcm91dGVySGVscGVyLmNvbmZpZ3VyZVN0YXRlKGdldFN0YXRlcygpKTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gZ2V0U3RhdGVzKCl7XG4gICAgICByZXR1cm4gW1xuICAgICAgICB7XG4gICAgICAgICAgc3RhdGU6ICdsYW5kaW5nJyxcbiAgICAgICAgICBjb25maWc6IHtcbiAgICAgICAgICAgICAgYWJzdHJhY3QgOiB0cnVlLFxuICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy4vY29tbW9uL2NvbnRlbnQuaHRtbCdcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIF07XG4gICAgfTtcbn0pKCk7IiwiKGZ1bmN0aW9uKCl7XG4gICd1c2Ugc3RyaWN0JztcbiAgLyoqXG4gICogbGFuZGluZy5kZW1vIE1vZHVsZVxuICAqXG4gICogRGVzY3JpcHRpb25cbiAgKi9cbiAgYW5ndWxhclxuICAgIC5tb2R1bGUoJ2FwcC5kZW1vJylcbiAgICAucnVuKGFwcFJ1bik7XG5cbiAgICBhcHBSdW4uJGluamVjdCA9IFsncm91dGVySGVscGVyJ107XG5cbiAgICBmdW5jdGlvbiBhcHBSdW4ocm91dGVySGVscGVyKXtcbiAgICAgIHJvdXRlckhlbHBlci5jb25maWd1cmVTdGF0ZShnZXRTdGF0ZXMoKSk7XG4gICAgfTtcblxuICAgZnVuY3Rpb24gZ2V0U3RhdGVzKCkge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0YXRlOiAnZGVtbycsXG4gICAgICAgICAgICAgICAgY29uZmlnOiB7XG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncGFuZGEtZGVtby5odG1sJyxcbiAgICAgICAgICAgICAgICAgICAgdXJsOiAnL2RlbW8nLFxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyIDogJ0RlbW9Db250cm9sbGVyJyxcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlckFzIDogJ0RlbW9DdHJsJyxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGUgOiAn6K+35rGC5ryU56S6J1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgXTtcbiAgICB9O1xuXG5cbn0pKCk7IiwiKGZ1bmN0aW9uKCl7XG4gICd1c2Ugc3RyaWN0JztcbiAgLyoqXG4gICogbGFuZGluZy5kZW1vIE1vZHVsZVxuICAqXG4gICogRGVzY3JpcHRpb25cbiAgKi9cbiAgYW5ndWxhclxuICAgIC5tb2R1bGUoJ2FwcC5kZW1vJylcbiAgICAuY29udHJvbGxlcignRGVtb0NvbnRyb2xsZXInLERlbW9Db250cm9sbGVyKTtcblxuICAgIERlbW9Db250cm9sbGVyLiRpbmplY3QgPSBbXTtcblxuICAgIGZ1bmN0aW9uIERlbW9Db250cm9sbGVyKCl7XG5cbiAgICB9O1xuXG59KSgpOyIsIihmdW5jdGlvbigpe1xuICAndXNlIHN0cmljdCc7XG5cbiAgLyoqXG4gICogbGFuZGluZy5zaWdudXAgTW9kdWxlXG4gICpcbiAgKiBEZXNjcmlwdGlvblxuICAqL1xuICBhbmd1bGFyXG4gICAgLm1vZHVsZSgnYXBwLnNpZ251cCcpXG4gICAgLmNvbnRyb2xsZXIoJ1NpZ251cENvbnRyb2xsZXInLFNpZ251cENvbnRyb2xsZXIpO1xuXG4gICAgU2lnbnVwQ29udHJvbGxlci4kaW5qZWN0ID0gWydBY2NvdW50U2VydmljZSddO1xuXG4gICAgZnVuY3Rpb24gU2lnbnVwQ29udHJvbGxlcihBY2NvdW50U2VydmljZSl7XG5cbiAgICB9O1xufSkoKTsiLCIoZnVuY3Rpb24oKXtcbiAgJ3VzZSBzdHJpY3QnO1xuICAvKipcbiAgKiBsYW5kaW5nLnNpZ251cCBNb2R1bGVcbiAgKlxuICAqIERlc2NyaXB0aW9uXG4gICovXG5cbiAgYW5ndWxhclxuICAgIC5tb2R1bGUoJ2FwcC5zaWdudXAnKVxuICAgIC5ydW4oYXBwUnVuKTtcblxuICAgIGFwcFJ1bi4kaW5qZWN0ID0gWydyb3V0ZXJIZWxwZXInXTtcblxuICAgIGZ1bmN0aW9uIGFwcFJ1biggcm91dGVySGVscGVyICl7XG4gICAgICByb3V0ZXJIZWxwZXIuY29uZmlndXJlU3RhdGUoZ2V0U3RhdGVzKCkpO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBnZXRTdGF0ZXMoKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RhdGU6ICdzaWdudXAnLFxuICAgICAgICAgICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3BhbmRhLXNpZ251cC5odG1sJyxcbiAgICAgICAgICAgICAgICAgICAgdXJsOiAnL3NpZ251cCcsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIgOiAnU2lnbnVwQ29udHJvbGxlcicsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBcyA6ICdTaWdudXBDdHJsJyxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGUgOiAn5rOo5YaMJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgXTtcbiAgICB9O1xuXG59KSgpOyIsIihmdW5jdGlvbigpe1xuICAndXNlIHN0cmljdCc7XG5cbiAgLyoqXG4gICogYmxvY2tzLnJvdXRlciBNb2R1bGVcbiAgKlxuICAqIERlc2NyaXB0aW9uXG4gICovXG4gIGFuZ3VsYXJcbiAgICAubW9kdWxlKCdibG9ja3Mucm91dGVyJylcbiAgICAucHJvdmlkZXIoJ3JvdXRlckhlbHBlcicscm91dGVySGVscGVyUHJvdmlkZXIpO1xuXG4gICAgcm91dGVySGVscGVyUHJvdmlkZXIuJGluamVjdCA9IFsnJGxvY2F0aW9uUHJvdmlkZXInLCckc3RhdGVQcm92aWRlcicsJyR1cmxSb3V0ZXJQcm92aWRlciddO1xuXG4gIGZ1bmN0aW9uIHJvdXRlckhlbHBlclByb3ZpZGVyKCRsb2NhdGlvblByb3ZpZGVyLCRzdGF0ZVByb3ZpZGVyLCR1cmxSb3V0ZXJQcm92aWRlcil7XG5cbiAgICB2YXIgY29uZmlnID0ge1xuICAgICAgZG9jVGl0bGUgOiAnQ29udmVydExhYidcbiAgICB9XG5cbiAgICAvLyAkbG9jYXRpb25Qcm92aWRlci5odG1sNU1vZGUoe1xuICAgIC8vICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAvLyAgIHJlcXVpcmVCYXNlOiBmYWxzZVxuICAgIC8vIH0pO1xuXG4gICAgdGhpcy4kZ2V0ID0gUm91dGVySGVscGVyO1xuXG4gICAgUm91dGVySGVscGVyLiRpbmplY3QgPSBbJyRzdGF0ZScsJyRyb290U2NvcGUnXTtcblxuICAgIGZ1bmN0aW9uIFJvdXRlckhlbHBlcigkc3RhdGUsICRyb290U2NvcGUpe1xuICAgICAgdmFyIGhhc090aGVyd2lzZSA9IGZhbHNlOyBcblxuICAgICAgdmFyIHNlcnZpY2UgPSB7XG4gICAgICAgIGNvbmZpZ3VyZVN0YXRlIDogY29uZmlndXJlU3RhdGUsXG4gICAgICAgIGdldFN0YXRlcyA6IGdldFN0YXRlc1xuICAgICAgfTtcblxuICAgICAgaW5pdCgpO1xuXG4gICAgICByZXR1cm4gc2VydmljZTtcblxuICAgICAgZnVuY3Rpb24gY29uZmlndXJlU3RhdGUoc3RhdGVzLCBvdGhlcndpc2VQYXRoKXtcbiAgICAgICAgc3RhdGVzLmZvckVhY2goZnVuY3Rpb24oc3RhdGUpe1xuICAgICAgICAgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKHN0YXRlLnN0YXRlLHN0YXRlLmNvbmZpZyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICggb3RoZXJ3aXNlUGF0aCAmJiAhaGFzT3RoZXJ3aXNlKSB7XG4gICAgICAgICAgaGFzT3RoZXJ3aXNlID0gdHJ1ZTsgXG4gICAgICAgICAgJHVybFJvdXRlclByb3ZpZGVyLm90aGVyd2lzZShvdGhlcndpc2VQYXRoKTtcbiAgICAgICAgfTtcbiAgICAgIH07XG4gICAgICBmdW5jdGlvbiBnZXRTdGF0ZXMoKXsgcmV0dXJuICRzdGF0ZS5nZXQoKX07XG5cbiAgICAgIGZ1bmN0aW9uIGluaXQoKXtcbiAgICAgICAgdXBkYXRlRG9jVGl0bGUoKTtcbiAgICAgIH07XG5cbiAgICAgIGZ1bmN0aW9uIHVwZGF0ZURvY1RpdGxlKCl7XG4gICAgICAgICRyb290U2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VTdWNjZXNzJyxcbiAgICAgICAgICBmdW5jdGlvbihldmVudCwgdG9TdGF0ZSwgdG9QYXJhbXMsIGZyb21TdGF0ZSwgZnJvbVBhcmFtcyl7XG4gICAgICAgICAgICB2YXIgdGl0bGUgPSBjb25maWcuZG9jVGl0bGUgKyAnIHwgJyArICh0b1N0YXRlLnRpdGxlIHx8ICcnKTtcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCA9IDA7XG4gICAgICAgICAgICAkcm9vdFNjb3BlLnRpdGxlID0gdGl0bGU7XG5cbiAgICAgICAgICAgIC8vIHRyYWNraW5nIGNvZGVcbiAgICAgICAgICAgIF9jbF90cmFja2VyLmluaXQoKTtcbiAgICAgICAgICAgIF9jbF90cmFja2VyLnB1c2goeyB1cmw6IHRvU3RhdGUudXJsLCB0YXJnZXROYW1lOiB0aXRsZSB9KTtcbiAgICAgICAgICAgIF9jbF90cmFja2VyLnRyYWNrKCdvcGVuX3BhZ2UnKTtcbiAgICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgfTtcbiAgfTtcblxufSkoKTtcbiIsIihmdW5jdGlvbigpe1xuICAndXNlIHN0cmljdCc7XG4gIC8qKlxuICAqIGFwcC5jb3JlIE1vZHVsZVxuICAqXG4gICogRGVzY3JpcHRpb25cbiAgKi9cbiAgYW5ndWxhclxuICAgIC5tb2R1bGUoJ2FwcC5jb3JlJylcbiAgICAuZmFjdG9yeSgnQWNjb3VudFNlcnZpY2UnLEFjY291bnRTZXJ2aWNlKTtcblxuICAgIEFjY291bnRTZXJ2aWNlLiRpbmplY3QgPSBbJyRodHRwJ107XG5cbiAgICBmdW5jdGlvbiBBY2NvdW50U2VydmljZSgkaHR0cCl7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgcG9zdEFjY291bnQgOiBwb3N0QWNjb3VudFxuICAgICAgICB9O1xuXG4gICAgICAgIGZ1bmN0aW9uIHBvc3RBY2NvdW50KGFjY291bnQpe1xuICAgICAgICAgIHJldHVybiAkaHR0cC5wb3N0KCdodHRwOi8vaG9zdC41MWNvbnZlcnQuY24vcGFnZS9mNDVjOWUzNjRhMGU0YTgyYWI4MmRiZjEwNDlkZWIxYicsIGFjY291bnQpXG4gICAgICAgICAgICAgICAgICAudGhlbihwb3N0U3VjY2VzcylcbiAgICAgICAgICAgICAgICAgIC5jYXRjaChwb3N0RmFpbGVkKTtcblxuICAgICAgICAgIGZ1bmN0aW9uIHBvc3RTdWNjZXNzKHJlcyl7XG4gICAgICAgICAgICByZXR1cm4gcmVzLmRhdGE7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIGZ1bmN0aW9uIHBvc3RGYWlsZWQocmVzKXtcbiAgICAgICAgICAgIHJldHVybiBjb25zb2xlLmxvZyhyZXMpO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgfTsgXG4gICAgfTtcblxufSkoKTsiLCIoZnVuY3Rpb24oKXtcbiAgJ3VzZSBzdHJpY3QnO1xuICAvKipcbiogbGFuZGluZy5hYm91dCBNb2R1bGVcbipcbiogRGVzY3JpcHRpb25cbiovXG5hbmd1bGFyXG4gIC5tb2R1bGUoJ2xhbmRpbmcuYWJvdXQnKVxuICAuY29udHJvbGxlcignQWJvdXRDb250cm9sbGVyJyxBYm91dENvbnRyb2xsZXIpXG5cbiAgQWJvdXRDb250cm9sbGVyLiRpbmplY3QgPSBbJyRyb290U2NvcGUnXTtcblxuICBmdW5jdGlvbiBBYm91dENvbnRyb2xsZXIoJHJvb3RTY29wZSl7XG4gICAgdmFyIHZtID0gdGhpczsgXG4gICAgdmFyIHRvcCA9ICQoXCIjY2FyZWVyXCIpLm9mZnNldCgpLnRvcCAgLSAzLjUqcGFyc2VGbG9hdCgkKCcjY2FyZWVyJykuY3NzKCdtYXJnaW5Ub3AnKS5yZXBsYWNlKC9hdXRvLywwKSk7XG4gICAgJCgnI2pvaW51cycpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJCgnaHRtbCxib2R5JykuYW5pbWF0ZSh7c2Nyb2xsVG9wOnRvcH0sIDUwMCk7XG4gICAgfSk7XG5cbiAgfTtcblxufSkoKTtcbiIsIihmdW5jdGlvbigpe1xuICAndXNlIHN0cmljdCc7XG5cbiAgLyoqXG4gICogbGFuZGluZy5ob21lIE1vZHVsZVxuICAqXG4gICogRGVzY3JpcHRpb25cbiAgKi9cbiAgYW5ndWxhclxuICAgIC5tb2R1bGUoJ2xhbmRpbmcuYWJvdXQnKVxuICAgIC5ydW4oYXBwUnVuKTtcblxuICAgIGFwcFJ1bi4kaW5qZWN0ID0gWydyb3V0ZXJIZWxwZXInXTtcblxuICAgIGZ1bmN0aW9uIGFwcFJ1biggcm91dGVySGVscGVyICl7XG4gICAgICByb3V0ZXJIZWxwZXIuY29uZmlndXJlU3RhdGUoZ2V0U3RhdGVzKCkpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFN0YXRlcygpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdGF0ZTogJ2xhbmRpbmcuYWJvdXQnLFxuICAgICAgICAgICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3BhbmRhLWFib3V0Lmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICB1cmw6ICcvYWJvdXQnLFxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyIDogJ0Fib3V0Q29udHJvbGxlcicsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBcyA6ICdBYm91dEN0cmwnLFxuICAgICAgICAgICAgICAgICAgICB0aXRsZSA6ICflhbPmlrzmiJHku6wnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICBdO1xuICAgIH07XG4gICAgXG59KSgpO1xuIiwiKGZ1bmN0aW9uKCl7XG4gICd1c2Ugc3RyaWN0JztcbiAgXG4gIC8qKlxuICAqIGFwcC5jYXJlZXIgTW9kdWxlXG4gICpcbiAgKiBEZXNjcmlwdGlvblxuICAqL1xuICBhbmd1bGFyXG4gICAgLm1vZHVsZSgnbGFuZGluZy5jYXJlZXInKVxuICAgIC5ydW4oYXBwUnVuKTtcblxuICAgIGFwcFJ1bi4kaW5qZWN0ID0gWydyb3V0ZXJIZWxwZXInXTtcblxuICAgIGZ1bmN0aW9uIGFwcFJ1biggcm91dGVySGVscGVyICl7XG4gICAgICByb3V0ZXJIZWxwZXIuY29uZmlndXJlU3RhdGUoZ2V0U3RhdGVzKCkpO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBnZXRTdGF0ZXMoKXtcbiAgICAgIHJldHVybiBbXG4gICAgICAgIHtcbiAgICAgICAgICBzdGF0ZTogJ2xhbmRpbmcuY2FyZWVycycsXG4gICAgICAgICAgY29uZmlnOiB7XG4gICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncGFuZGEtY2FyZWVyLmh0bWwnLFxuICAgICAgICAgICAgICB1cmw6ICcvY2FyZWVycy86aWQnLFxuICAgICAgICAgICAgICB0aXRsZSA6ICfogYznvLrmi5vogZgnXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICBdO1xuICAgIH07XG5cbn0pKCk7IiwiKGZ1bmN0aW9uKCl7XG4gICd1c2Ugc3RyaWN0JztcbiAgICAvKipcbiAgKiBwYW5hZGFBcHAgTW9kdWxlXG4gICpcbiAgKiBEZXNjcmlwdGlvblxuICAqL1xuICBhbmd1bGFyXG4gICAgLm1vZHVsZSgnbGFuZGluZy5jYXJlZXInKVxuICAgIC5jb250cm9sbGVyKCdDYXJlZXJDb250cm9sbGVyJyxDYXJlZXJDb250cm9sbGVyKTtcblxuICAgIENhcmVlckNvbnRyb2xsZXIuJGluamVjdCA9IFtdO1xuXG4gICAgZnVuY3Rpb24gQ2FyZWVyQ29udHJvbGxlcigpe1xuICAgICAgdmFyIHZtID0gdGhpczsgXG4gICAgICAvLyB2bS5jYXJlZXJJZCA9ICRzdGF0ZVBhcmFtcy5pZDtcbiAgICAgIGNvbnNvbGUubG9nKFwiaXQgaXMgY2FyZWVyIHBhZ2VcIik7XG4gICAgfTtcblxufSkoKTtcblxuXG4iLCIoZnVuY3Rpb24oKXtcbiAgJ3VzZSBzdHJpY3QnO1xuICAvKipcbiAgKiBsYW5kaW5nLmZlYXR1cmUgTW9kdWxlXG4gICpcbiAgKiBEZXNjcmlwdGlvblxuICAqL1xuICBhbmd1bGFyXG4gICAgLm1vZHVsZSgnbGFuZGluZy5mZWF0dXJlJylcbiAgICAuY29udHJvbGxlcignRmVhdHVyZUNvbnRyb2xsZXInLEZlYXR1cmVDb250cm9sbGVyKTtcblxuICAgIEZlYXR1cmVDb250cm9sbGVyLiRpbmplY3QgPSBbXTtcblxuICAgIGZ1bmN0aW9uIEZlYXR1cmVDb250cm9sbGVyKCl7XG4gICAgICBcbiAgICB9O1xuXG59KSgpOyIsIihmdW5jdGlvbigpe1xuICAndXNlIHN0cmljdCc7XG5cbiAgLyoqXG4gICogbGFuZGluZy5mZWF0dXJlIE1vZHVsZVxuICAqXG4gICogRGVzY3JpcHRpb25cbiAgKi9cbiAgIGFuZ3VsYXJcbiAgICAubW9kdWxlKCdsYW5kaW5nLmZlYXR1cmUnKVxuICAgIC5ydW4oYXBwUnVuKTtcblxuICAgIGFwcFJ1bi4kaW5qZWN0ID0gWydyb3V0ZXJIZWxwZXInXTtcblxuICAgIGZ1bmN0aW9uIGFwcFJ1biggcm91dGVySGVscGVyICl7XG4gICAgICByb3V0ZXJIZWxwZXIuY29uZmlndXJlU3RhdGUoZ2V0U3RhdGVzKCkpO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBnZXRTdGF0ZXMoKXtcbiAgICAgIHJldHVybiBbXG4gICAgICAgIHtcbiAgICAgICAgICBzdGF0ZTogJ2xhbmRpbmcuZmVhdHVyZScsXG4gICAgICAgICAgY29uZmlnOiB7XG4gICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncGFuZGEtZmVhdHVyZS5odG1sJyxcbiAgICAgICAgICAgICAgdXJsOiAnL2ZlYXR1cmVzJyxcbiAgICAgICAgICAgICAgdGl0bGUgOiAn5Lqn5ZOB54m56ImyJ1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgXTtcbiAgICB9O1xuXG59KSgpOyIsIihmdW5jdGlvbigpe1xuICAvKipcbiogYXBwLmhvbWUgTW9kdWxlXG4qXG4qIERlc2NyaXB0aW9uXG4qL1xuYW5ndWxhclxuICAubW9kdWxlKCdsYW5kaW5nLmhvbWUnKVxuICAuY29udHJvbGxlcignSG9tZUNvbnRyb2xsZXInLEhvbWVDb250cm9sbGVyKVxuXG4gIEhvbWVDb250cm9sbGVyLiRpbmplY3QgPSBbJ0FjY291bnRTZXJ2aWNlJ107XG5cbiAgZnVuY3Rpb24gSG9tZUNvbnRyb2xsZXIoQWNjb3VudFNlcnZpY2Upe1xuICAgIHZhciB2bSA9IHRoaXM7XG4gICAgdm0uYWNjb3VudCA9IHt9O1xuICAgIHZtLnN1Ym1pdCA9IHN1Ym1pdDtcbiAgICBcbiAgICBcbiAgICAkKFwiLmhlYWRsaW5lXCIpLmhpZGUoKS5hbmltYXRlKHsgbGVmdDpcIjBweFwiLCBvcGFjaXR5Olwic2hvd1wifSwgMTUwMCk7XG5cbiAgICBmdW5jdGlvbiBzdWJtaXQoKXtcbiAgICAgIHJldHVybiBBY2NvdW50U2VydmljZS5wb3N0QWNjb3VudCh2bS5hY2NvdW50KTtcbiAgICB9O1xuXG4gICAgd2luZG93LmNhbGxiYWNrID0gZnVuY3Rpb24oKXtcbiAgICAgIGNvbnNvbGUubG9nKFwiYW5ndWxhciBjYWxsYmFja1wiKTtcbiAgICB9XG5cbiAgfTtcblxufSkoKTsiLCIoZnVuY3Rpb24oKXtcbiAgJ3VzZSBzdHJpY3QnO1xuICAvKipcbiAgKiBsYW5kaW5nLmhvbWUgTW9kdWxlXG4gICpcbiAgKiBEZXNjcmlwdGlvblxuICAqL1xuICBhbmd1bGFyXG4gICAgLm1vZHVsZSgnbGFuZGluZy5ob21lJylcbiAgICAucnVuKGFwcFJ1bik7XG5cbiAgICAvKiBAbmdJbmplY3QgKi9cblxuICAgIGFwcFJ1bi4kaW5qZWN0ID0gWydyb3V0ZXJIZWxwZXInXTtcblxuICAgIGZ1bmN0aW9uIGFwcFJ1bihyb3V0ZXJIZWxwZXIpIHtcbiAgICAgICAgcm91dGVySGVscGVyLmNvbmZpZ3VyZVN0YXRlKGdldFN0YXRlcygpLCcvJyk7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGdldFN0YXRlcygpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdGF0ZTogJ2xhbmRpbmcuaG9tZScsXG4gICAgICAgICAgICAgICAgY29uZmlnOiB7XG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncGFuZGEtaG9tZS5odG1sJyxcbiAgICAgICAgICAgICAgICAgICAgdXJsOiAnLycsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIgOiAnSG9tZUNvbnRyb2xsZXInLFxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyQXMgOiAnSG9tZUN0cmwnLFxuICAgICAgICAgICAgICAgICAgICB0aXRsZSA6ICfpppbpobUnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICBdO1xuICAgIH07XG5cbn0pKCk7IiwiKGZ1bmN0aW9uKCl7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvKipcbiAgKiBsYW5kaW5nLm5hdmJhciBNb2R1bGVcbiAgKlxuICAqIERlc2NyaXB0aW9uXG4gICovXG4gIGFuZ3VsYXJcbiAgICAubW9kdWxlKCdsYW5kaW5nLm5hdmJhcicpXG4gICAgLmNvbnRyb2xsZXIoJ05hdmJhckNvbnRyb2xsZXInLCBOYXZiYXJDb250cm9sbGVyKTtcblxuICAgIE5hdmJhckNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHVpYk1vZGFsJywnJHdpbmRvdycsJyRzY29wZScsJyR0cmFuc2xhdGUnXTtcblxuICAgIGZ1bmN0aW9uIE5hdmJhckNvbnRyb2xsZXIoJHVpYk1vZGFsLCAkd2luZG93LCRzY29wZSwgJHRyYW5zbGF0ZSl7XG4gICAgICB2YXIgdm0gPSB0aGlzOyBcbiAgICAgIHZtLnNjcm9sbCA9IGZhbHNlO1xuICAgICAgdm0udGV4dCA9IFwiaGVsbG8gZ28gZ29cIjtcbiAgICAgIHZtLm9wZW5SZWdpc3Rlck1vZGFsID0gb3BlblJlZ2lzdGVyTW9kYWw7IFxuXG4gICAgICBmdW5jdGlvbiBvcGVuUmVnaXN0ZXJNb2RhbCgpIHtcbiAgICAgICAgcmV0dXJuICR1aWJNb2RhbC5vcGVuKHtcbiAgICAgICAgICBhbmltYXRpb246IHRydWUsXG4gICAgICAgICAgdGVtcGxhdGVVcmw6ICdyZWdpc3Rlci5tb2RhbC5odG1sJyxcbiAgICAgICAgICBjb250cm9sbGVyIDogJ1JlZ2lzdGVyQ29udHJvbGxlcicsXG4gICAgICAgICAgY29udHJvbGxlckFzIDonUmVnaXN0ZXJDdHJsJyxcbiAgICAgICAgICBzaXplOiAnbWQnXG4gICAgICAgIH0pO1xuICAgICAgfTtcblxuICAgICAgJHRyYW5zbGF0ZSgnVElUTEUnKS50aGVuKGZ1bmN0aW9uICh0aXRsZSkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKHRpdGxlKTtcbiAgICAgIH0pO1xuXG4gICAgICAkKFwiI3RyeVwiKS5vbihcInNjcm9sbHN0YXJ0XCIsZnVuY3Rpb24oKXtcbiAgICAgICAgYWxlcnQoXCJTdGFydGVkIHNjcm9sbGluZyFcIik7XG4gICAgICB9KTtcblxuICAgICAgLy8gYW5ndWxhci5lbGVtZW50KCR3aW5kb3cpLmJpbmQoXCJzY3JvbGxcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgLy8gICAkc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCl7XG4gICAgICAvLyAgICAgdm0uc2Nyb2xsID0gdHJ1ZTtcbiAgICAgIC8vICAgfSlcbiAgICAgIC8vICAgY29uc29sZS5sb2coXCJzdGFydCB0byBzY3JvbGxcIikgXG4gICAgICAvLyB9KTtcblxuXG4gICAgfTtcblxufSkoKTsiLCIoZnVuY3Rpb24oKXtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8qKlxuICAqIGFwcC5yZWdpc3RlciBNb2R1bGVcbiAgKlxuICAqIERlc2NyaXB0aW9uXG4gICovXG4gIGFuZ3VsYXJcbiAgICAubW9kdWxlKCdhcHAucmVnaXN0ZXInKVxuICAgIC5jb250cm9sbGVyKCdSZWdpc3RlckNvbnRyb2xsZXInLFJlZ2lzdGVyQ29udHJvbGxlcik7XG5cbiAgICBSZWdpc3RlckNvbnRyb2xsZXIuJGluamVjdCA9IFsnQWNjb3VudFNlcnZpY2UnLCckdWliTW9kYWxJbnN0YW5jZSddO1xuXG4gICAgZnVuY3Rpb24gUmVnaXN0ZXJDb250cm9sbGVyKEFjY291bnRTZXJ2aWNlLCR1aWJNb2RhbEluc3RhbmNlKXtcbiAgICAgIHZhciB2bSA9IHRoaXM7IFxuICAgICAgdm0uYWNjb3VudCA9IHt9O1xuICAgICAgdm0uc3VibWl0QWNjb3VudCA9IHN1Ym1pdEFjY291bnQ7XG4gICAgICB2bS5jYW5jZWwgPSBjYW5jZWw7IFxuXG4gICAgICBmdW5jdGlvbiBzdWJtaXRBY2NvdW50KCl7XG4gICAgICAgXG4gICAgICAgIEFjY291bnRTZXJ2aWNlLnBvc3RBY2NvdW50KHZtLmFjY291bnQpLnRoZW4oZnVuY3Rpb24ocmVzKXtcbiAgICAgICAgICBpZiAocmVzKSB7XG4gICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKCdjYW5jZWwnKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgIH07XG5cbiAgICAgIGZ1bmN0aW9uIGNhbmNlbCgpe1xuICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKCdjYW5jZWwnKTtcbiAgICAgIH07XG4gICAgfTtcblxufSkoKTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
