!function(){"use strict";angular.module("pandaApp",["app.core","app.landing","app.demo","app.signup","pascalprecht.translate"])}(),function(){"use strict";angular.module("app.core",["blocks.router","ui.router"])}(),function(){"use strict";angular.module("app.demo",[])}(),function(){"use strict";angular.module("app.landing",["app.core","landing.home","landing.about","landing.career","landing.navbar","landing.feature"])}(),function(){"use strict";angular.module("app.signup",[])}(),function(){"use strict";angular.module("blocks.router",["ui.router"])}(),function(){"use strict";angular.module("landing.about",["app.core"])}(),function(){"use strict";angular.module("landing.career",["app.core","ui.router"])}(),function(){"use strict";angular.module("landing.feature",[])}(),function(){angular.module("landing.home",["app.core"])}(),function(){"use strict";angular.module("landing.navbar",["ui.bootstrap","app.register"])}(),function(){"use strict";angular.module("app.register",["ui.bootstrap"])}(),function(){"use strict";function t(t){t.translations("en",{TITLE:"MarketPanda"}),t.translations("zh-t",{TITLE:"市場熊貓"}),t.translations("zh-s",{TITLE:"市场熊猫"})}angular.module("pandaApp").config(t),t.$inject=["$translateProvider"]}(),function(){"use strict";function t(t){t.configureState(n())}function n(){return[{state:"demo",config:{templateUrl:"panda-demo.html",url:"/demo",controller:"DemoController",controllerAs:"DemoCtrl",title:"请求演示"}}]}angular.module("app.demo").run(t),t.$inject=["routerHelper"]}(),function(){"use strict";function t(){}angular.module("app.demo").controller("DemoController",t),t.$inject=[]}(),function(){"use strict";function t(t){t.configureState(n())}function n(){return[{state:"landing",config:{"abstract":!0,templateUrl:"./common/content.html"}}]}angular.module("app.landing").run(t),t.$inject=["routerHelper"]}(),function(){"use strict";function t(t){}angular.module("app.signup").controller("SignupController",t),t.$inject=["AccountService"]}(),function(){"use strict";function t(t){t.configureState(n())}function n(){return[{state:"signup",config:{templateUrl:"panda-signup.html",url:"/signup",controller:"SignupController",controllerAs:"SignupCtrl",title:"注册"}}]}angular.module("app.signup").run(t),t.$inject=["routerHelper"]}(),function(){"use strict";function t(t){function n(n){function e(t){return t.data}function r(t){return console.log(t)}return t.post("/api/accounts",n).then(e)["catch"](r)}return{postAccount:n}}angular.module("app.core").factory("AccountService",t),t.$inject=["$http"]}(),function(){"use strict";function t(t,n,e){function r(t,r){function u(t,r){t.forEach(function(t){n.state(t.state,t.config)}),r&&!i&&(i=!0,e.otherwise(r))}function a(){return t.get()}function l(){c()}function c(){r.$on("$stateChangeSuccess",function(t,n,e,u,a){var l=o.docTitle+" | "+(n.title||"");document.body.scrollTop=document.documentElement.scrollTop=0,r.title=l,_cl_tracker.init(),_cl_tracker.push({url:n.url,targetName:l}),_cl_tracker.track("open_page")})}var i=!1,s={configureState:u,getStates:a};return l(),s}var o={docTitle:"ConvertLab"};this.$get=r,r.$inject=["$state","$rootScope"]}angular.module("blocks.router").provider("routerHelper",t),t.$inject=["$locationProvider","$stateProvider","$urlRouterProvider"]}(),function(){"use strict";function t(t){var n=$("#career").offset().top-3.5*parseFloat($("#career").css("marginTop").replace(/auto/,0));$("#joinus").click(function(){$("html,body").animate({scrollTop:n},500)})}angular.module("landing.about").controller("AboutController",t),t.$inject=["$rootScope"]}(),function(){"use strict";function t(t){t.configureState(n())}function n(){return[{state:"landing.about",config:{templateUrl:"panda-about.html",url:"/about",controller:"AboutController",controllerAs:"AboutCtrl",title:"关於我们"}}]}angular.module("landing.about").run(t),t.$inject=["routerHelper"]}(),function(){"use strict";function t(t){t.configureState(n())}function n(){return[{state:"landing.careers",config:{templateUrl:"panda-career.html",url:"/careers/:id",title:"职缺招聘"}}]}angular.module("landing.career").run(t),t.$inject=["routerHelper"]}(),function(){"use strict";function t(){console.log("it is career page")}angular.module("landing.career").controller("CareerController",t),t.$inject=[]}(),function(){"use strict";function t(){}angular.module("landing.feature").controller("FeatureController",t),t.$inject=[]}(),function(){"use strict";function t(t){t.configureState(n())}function n(){return[{state:"landing.feature",config:{templateUrl:"panda-feature.html",url:"/features",title:"产品特色"}}]}angular.module("landing.feature").run(t),t.$inject=["routerHelper"]}(),function(){function t(t){function n(){return t.postAccount(e.account)}var e=this;e.account={},e.submit=n,$(".headline").hide().animate({left:"0px",opacity:"show"},1500)}angular.module("landing.home").controller("HomeController",t),t.$inject=["AccountService"]}(),function(){"use strict";function t(t){t.configureState(n(),"/")}function n(){return[{state:"landing.home",config:{templateUrl:"panda-home.html",url:"/",controller:"HomeController",controllerAs:"HomeCtrl",title:"首页"}}]}angular.module("landing.home").run(t),t.$inject=["routerHelper"]}(),function(){"use strict";function t(t,n,e,r){function o(){return t.open({animation:!0,templateUrl:"register.modal.html",controller:"RegisterController",controllerAs:"RegisterCtrl",size:"md"})}var u=this;u.scroll=!1,u.text="hello go go",u.openRegisterModal=o,r("TITLE").then(function(t){console.log(t)}),$("#try").on("scrollstart",function(){alert("Started scrolling!")})}angular.module("landing.navbar").controller("NavbarController",t),t.$inject=["$uibModal","$window","$scope","$translate"]}(),function(){"use strict";function t(t,n){function e(){t.postAccount(o.account).then(function(t){t&&n.dismiss("cancel")})}function r(){n.dismiss("cancel")}var o=this;o.account={},o.submitAccount=e,o.cancel=r}angular.module("app.register").controller("RegisterController",t),t.$inject=["AccountService","$uibModalInstance"]}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5tb2R1bGUuanMiLCJjb3Jlcy9jb3JlLm1vZHVsZS5qcyIsImRlbW8vZGVtby5tb2R1bGUuanMiLCJsYW5kaW5nL2xhbmRpbmcubW9kdWxlLmpzIiwic2lnbnVwL3NpZ251cC5tb2R1bGUuanMiLCJibG9jay9yb3V0ZXIvcm91dGVyLm1vZHVsZS5qcyIsImxhbmRpbmcvYWJvdXQvYWJvdXQubW9kdWxlLmpzIiwibGFuZGluZy9jYXJlZXIvY2FyZWVyLm1vZHVsZS5qcyIsImxhbmRpbmcvZmVhdHVyZS9mZWF0dXJlLm1vZHVsZS5qcyIsImxhbmRpbmcvaG9tZS9ob21lLm1vZHVsZS5qcyIsImxhbmRpbmcvbmF2YmFyL25hdmJhci5tb2R1bGUuanMiLCJtb2RhbC9yZWdpc3Rlci9yZWdpc3Rlci5tb2R1bGUuanMiLCJhcHAuY29uZmlnLmpzIiwiZGVtby9kZW1vLnJvdXRlci5qcyIsImRlbW8vZGVtb24uY3RybC5qcyIsImxhbmRpbmcvbGFuZGluZy5yb3V0ZXIuanMiLCJzaWdudXAvc2lnbnVwLmN0cmwuanMiLCJzaWdudXAvc2lnbnVwLnJvdXRlLmpzIiwiY29yZXMvZGF0YVNlcnZpY2UvYWNjb3VudC5zZXJ2aWNlLmpzIiwiYmxvY2svcm91dGVyL3JvdXRlci1oZWxwZXIucHJvdmlkZXIuanMiLCJsYW5kaW5nL2Fib3V0L2Fib3V0LmN0cmwuanMiLCJsYW5kaW5nL2Fib3V0L2Fib3V0LnJvdXRlLmpzIiwibGFuZGluZy9jYXJlZXIvY2FyZWVyLnJvdXRlci5qcyIsImxhbmRpbmcvY2FyZWVyL2NhcnJlci5jdHJsLmpzIiwibGFuZGluZy9mZWF0dXJlL2ZlYXR1cmUuY3RybC5qcyIsImxhbmRpbmcvZmVhdHVyZS9mZWF0dXJlLnJvdXRlci5qcyIsImxhbmRpbmcvaG9tZS9ob21lLmN0cmwuanMiLCJsYW5kaW5nL2hvbWUvaG9tZS5yb3V0ZS5qcyIsImxhbmRpbmcvbmF2YmFyL25hdmJhci5jdHJsLmpzIiwibW9kYWwvcmVnaXN0ZXIvcmVnaXN0ZXIuY3RybC5qcyJdLCJuYW1lcyI6WyJhbmd1bGFyIiwibW9kdWxlIiwiYXBwQ29uZmlnIiwiJHRyYW5zbGF0ZVByb3ZpZGVyIiwidHJhbnNsYXRpb25zIiwiVElUTEUiLCJjb25maWciLCIkaW5qZWN0IiwiYXBwUnVuIiwicm91dGVySGVscGVyIiwiY29uZmlndXJlU3RhdGUiLCJnZXRTdGF0ZXMiLCJzdGF0ZSIsInRlbXBsYXRlVXJsIiwidXJsIiwiY29udHJvbGxlciIsImNvbnRyb2xsZXJBcyIsInRpdGxlIiwicnVuIiwiRGVtb0NvbnRyb2xsZXIiLCJhYnN0cmFjdCIsIlNpZ251cENvbnRyb2xsZXIiLCJBY2NvdW50U2VydmljZSIsIiRodHRwIiwicG9zdEFjY291bnQiLCJhY2NvdW50IiwicG9zdFN1Y2Nlc3MiLCJyZXMiLCJkYXRhIiwicG9zdEZhaWxlZCIsImNvbnNvbGUiLCJsb2ciLCJwb3N0IiwidGhlbiIsImZhY3RvcnkiLCJyb3V0ZXJIZWxwZXJQcm92aWRlciIsIiRsb2NhdGlvblByb3ZpZGVyIiwiJHN0YXRlUHJvdmlkZXIiLCIkdXJsUm91dGVyUHJvdmlkZXIiLCJSb3V0ZXJIZWxwZXIiLCIkc3RhdGUiLCIkcm9vdFNjb3BlIiwic3RhdGVzIiwib3RoZXJ3aXNlUGF0aCIsImZvckVhY2giLCJoYXNPdGhlcndpc2UiLCJvdGhlcndpc2UiLCJnZXQiLCJpbml0IiwidXBkYXRlRG9jVGl0bGUiLCIkb24iLCJldmVudCIsInRvU3RhdGUiLCJ0b1BhcmFtcyIsImZyb21TdGF0ZSIsImZyb21QYXJhbXMiLCJkb2NUaXRsZSIsImRvY3VtZW50IiwiYm9keSIsInNjcm9sbFRvcCIsImRvY3VtZW50RWxlbWVudCIsIl9jbF90cmFja2VyIiwicHVzaCIsInRhcmdldE5hbWUiLCJ0cmFjayIsInNlcnZpY2UiLCJ0aGlzIiwiJGdldCIsInByb3ZpZGVyIiwiQWJvdXRDb250cm9sbGVyIiwidG9wIiwiJCIsIm9mZnNldCIsInBhcnNlRmxvYXQiLCJjc3MiLCJyZXBsYWNlIiwiY2xpY2siLCJhbmltYXRlIiwiQ2FyZWVyQ29udHJvbGxlciIsIkZlYXR1cmVDb250cm9sbGVyIiwiSG9tZUNvbnRyb2xsZXIiLCJzdWJtaXQiLCJ2bSIsImhpZGUiLCJsZWZ0Iiwib3BhY2l0eSIsIk5hdmJhckNvbnRyb2xsZXIiLCIkdWliTW9kYWwiLCIkd2luZG93IiwiJHNjb3BlIiwiJHRyYW5zbGF0ZSIsIm9wZW5SZWdpc3Rlck1vZGFsIiwib3BlbiIsImFuaW1hdGlvbiIsInNpemUiLCJzY3JvbGwiLCJ0ZXh0Iiwib24iLCJhbGVydCIsIlJlZ2lzdGVyQ29udHJvbGxlciIsIiR1aWJNb2RhbEluc3RhbmNlIiwic3VibWl0QWNjb3VudCIsImRpc21pc3MiLCJjYW5jZWwiXSwibWFwcGluZ3MiOiJDQUFBLFdBQ0EsWUFNQUEsU0FBQUMsT0FBQSxZQUNBLFdBQ0EsY0FDQSxXQUNBLGFBQ0EsOEJDWkEsV0FDQSxZQU1BRCxTQUNBQyxPQUFBLFlBQ0EsZ0JBQ0EsaUJDVkEsV0FDQSxZQU9BRCxTQUNBQyxPQUFBLGtCQ1RBLFdBQ0EsWUFPQUQsU0FBQUMsT0FBQSxlQUNBLFdBQ0EsZUFDQSxnQkFDQSxpQkFDQSxpQkFDQSx1QkNkQSxXQUNBLFlBTUFELFNBQ0FDLE9BQUEsb0JDUkEsV0FDQSxZQU9BRCxTQUFBQyxPQUFBLGlCQUNBLGlCQ1RBLFdBQ0EsWUFNQUQsU0FDQUMsT0FBQSxpQkFDQSxnQkNUQSxXQUNBLFlBTUFELFNBQ0FDLE9BQUEsa0JBQ0EsV0FDQSxpQkNWQSxXQUNBLFlBTUFELFNBQ0FDLE9BQUEseUJDUkEsV0FNQUQsUUFDQUMsT0FBQSxnQkFDQSxnQkNSQSxXQUNBLFlBTUFELFNBQ0FDLE9BQUEsa0JBQ0EsZUFDQSxvQkNWQSxXQUNBLFlBT0FELFNBQ0FDLE9BQUEsZ0JBQ0Esb0JDVkEsV0FDQSxZQVlBLFNBQUFDLEdBQUFDLEdBQ0FBLEVBQUFDLGFBQUEsTUFDQUMsTUFBQSxnQkFHQUYsRUFBQUMsYUFBQSxRQUNBQyxNQUFBLFNBR0FGLEVBQUFDLGFBQUEsUUFDQUMsTUFBQSxTQWhCQUwsUUFDQUMsT0FBQSxZ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QSxpQkFBQSIsImZpbGUiOiJhcHAubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7XG4gICd1c2Ugc3RyaWN0JztcbiAgICAvKipcbiAgKiBhcHAgTW9kdWxlXG4gICpcbiAgKiBEZXNjcmlwdGlvblxuICAqL1xuICBhbmd1bGFyLm1vZHVsZSgncGFuZGFBcHAnLCBbXG4gICAgJ2FwcC5jb3JlJyxcbiAgICAnYXBwLmxhbmRpbmcnLFxuICAgICdhcHAuZGVtbycsXG4gICAgJ2FwcC5zaWdudXAnLFxuICAgICdwYXNjYWxwcmVjaHQudHJhbnNsYXRlJ1xuICBdKTtcbn0pKCk7IiwiKGZ1bmN0aW9uKCl7XG4gICd1c2Ugc3RyaWN0JztcbiAgLyoqXG4gICogYXBwLmNvcmUgTW9kdWxlXG4gICpcbiAgKiBEZXNjcmlwdGlvblxuICAqL1xuICBhbmd1bGFyXG4gICAgLm1vZHVsZSgnYXBwLmNvcmUnLFtcbiAgICAgICdibG9ja3Mucm91dGVyJyxcbiAgICAgICd1aS5yb3V0ZXInXG4gICAgICBdKVxufSkoKTsiLCIoZnVuY3Rpb24oKXtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8qKlxuICAqIGxhbmRpbmcuZGVtbyBNb2R1bGVcbiAgKlxuICAqIERlc2NyaXB0aW9uXG4gICovXG4gIGFuZ3VsYXJcbiAgICAubW9kdWxlKCdhcHAuZGVtbycsIFtdKTtcbn0pKCk7IiwiKGZ1bmN0aW9uKCl7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvKipcbiAgKiBhcHAubGFuZGluZyBNb2R1bGVcbiAgKlxuICAqIERlc2NyaXB0aW9uXG4gICovXG4gIGFuZ3VsYXIubW9kdWxlKCdhcHAubGFuZGluZycsW1xuICAgICAgJ2FwcC5jb3JlJyxcbiAgICAgICdsYW5kaW5nLmhvbWUnLFxuICAgICAgJ2xhbmRpbmcuYWJvdXQnLFxuICAgICAgJ2xhbmRpbmcuY2FyZWVyJyxcbiAgICAgICdsYW5kaW5nLm5hdmJhcicsXG4gICAgICAnbGFuZGluZy5mZWF0dXJlJyxcbiAgICAgXG4gICAgXSlcbn0pKCk7IiwiKGZ1bmN0aW9uKCl7XG4gICd1c2Ugc3RyaWN0JztcbiAgLyoqXG4gICogbGFuZGluZy5zaWdudXAgTW9kdWxlXG4gICpcbiAgKiBEZXNjcmlwdGlvblxuICAqL1xuICBhbmd1bGFyXG4gICAgLm1vZHVsZSgnYXBwLnNpZ251cCcsIFtdKTtcbn0pKCk7IiwiKGZ1bmN0aW9uKCl7XG4gICd1c2Ugc3RyaWN0JztcbiAvKipcbiAqIGJsb2Nrcy5yb3V0ZXIgTW9kdWxlXG4gKlxuICogRGVzY3JpcHRpb25cbiAqL1xuICBcbiAgYW5ndWxhci5tb2R1bGUoJ2Jsb2Nrcy5yb3V0ZXInLCBbXG4gICAgJ3VpLnJvdXRlcidcbiAgICBdKTtcbn0pKCk7IiwiKGZ1bmN0aW9uKCl7XG4gICd1c2Ugc3RyaWN0JztcbiAgLyoqXG4gICogbGFuZGluZy5hYm91dCBNb2R1bGVcbiAgKlxuICAqIERlc2NyaXB0aW9uXG4gICovXG4gIGFuZ3VsYXJcbiAgICAubW9kdWxlKCdsYW5kaW5nLmFib3V0JywgW1xuICAgICAgJ2FwcC5jb3JlJ1xuICAgIF0pXG59KSgpOyIsIihmdW5jdGlvbigpe1xuICAndXNlIHN0cmljdCc7XG4gIC8qKlxuICAqIGFwcC5jYXJlZXIgTW9kdWxlXG4gICpcbiAgKiBEZXNjcmlwdGlvblxuICAqL1xuICBhbmd1bGFyXG4gICAgLm1vZHVsZSgnbGFuZGluZy5jYXJlZXInLFtcbiAgICAgICdhcHAuY29yZScsXG4gICAgICAndWkucm91dGVyJ1xuICAgIF0pO1xufSkoKTsiLCIoZnVuY3Rpb24oKXtcbiAgJ3VzZSBzdHJpY3QnO1xuICAvKipcbiAgKiBsYW5kaW5nLmZlYXR1cmUgTW9kdWxlXG4gICpcbiAgKiBEZXNjcmlwdGlvblxuICAqL1xuICBhbmd1bGFyXG4gICAgLm1vZHVsZSgnbGFuZGluZy5mZWF0dXJlJywgW10pXG59KSgpOyIsIihmdW5jdGlvbigpe1xuICAvKipcbiAgKiBhcHAucGFuZGEtaG9tZSBNb2R1bGVcbiAgKlxuICAqIERlc2NyaXB0aW9uXG4gICovXG4gIGFuZ3VsYXJcbiAgICAubW9kdWxlKCdsYW5kaW5nLmhvbWUnLFtcbiAgICAgICdhcHAuY29yZSdcbiAgICBdKVxuXG59KSgpOyIsIihmdW5jdGlvbigpe1xuICAndXNlIHN0cmljdCc7XG4gIC8qKlxuICAqIGxhbmRpbmcubmF2YmFyIE1vZHVsZVxuICAqXG4gICogRGVzY3JpcHRpb25cbiAgKi9cbiAgYW5ndWxhclxuICAgIC5tb2R1bGUoJ2xhbmRpbmcubmF2YmFyJywgW1xuICAgICAgJ3VpLmJvb3RzdHJhcCcsXG4gICAgICAnYXBwLnJlZ2lzdGVyJ1xuICAgIF0pO1xufSkoKTsiLCIoZnVuY3Rpb24oKXtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8qKlxuICAqIGFwcC5yZWdpc3RlciBNb2R1bGVcbiAgKlxuICAqIERlc2NyaXB0aW9uXG4gICovXG4gIGFuZ3VsYXJcbiAgICAubW9kdWxlKCdhcHAucmVnaXN0ZXInLCBbXG4gICAgICAndWkuYm9vdHN0cmFwJ1xuICAgIF0pO1xufSkoKTsiLCIoZnVuY3Rpb24oKXtcbiAgJ3VzZSBzdHJpY3QnO1xuICAvKipcbiAgKiBhcHAgTW9kdWxlXG4gICpcbiAgKiBEZXNjcmlwdGlvblxuICAqL1xuICBhbmd1bGFyXG4gICAgLm1vZHVsZSgncGFuZGFBcHAnKVxuICAgIC5jb25maWcoYXBwQ29uZmlnKTtcblxuICAgIGFwcENvbmZpZy4kaW5qZWN0ID0gWyckdHJhbnNsYXRlUHJvdmlkZXInXTtcblxuICAgIGZ1bmN0aW9uIGFwcENvbmZpZygkdHJhbnNsYXRlUHJvdmlkZXIpe1xuICAgICAgJHRyYW5zbGF0ZVByb3ZpZGVyLnRyYW5zbGF0aW9ucygnZW4nLCB7XG4gICAgICAgIFRJVExFOiAnTWFya2V0UGFuZGEnXG4gICAgICB9KTtcblxuICAgICAgJHRyYW5zbGF0ZVByb3ZpZGVyLnRyYW5zbGF0aW9ucygnemgtdCcse1xuICAgICAgICBUSVRMRTogJ+W4guWgtOeGiuiykydcbiAgICAgIH0pO1xuXG4gICAgICAkdHJhbnNsYXRlUHJvdmlkZXIudHJhbnNsYXRpb25zKCd6aC1zJyx7XG4gICAgICAgIFRJVExFOiAn5biC5Zy654aK54yrJ1xuICAgICAgfSk7XG4gICAgfTtcblxufSkoKTsiLCIoZnVuY3Rpb24oKXtcbiAgJ3VzZSBzdHJpY3QnO1xuICAvKipcbiAgKiBsYW5kaW5nLmRlbW8gTW9kdWxlXG4gICpcbiAgKiBEZXNjcmlwdGlvblxuICAqL1xuICBhbmd1bGFyXG4gICAgLm1vZHVsZSgnYXBwLmRlbW8nKVxuICAgIC5ydW4oYXBwUnVuKTtcblxuICAgIGFwcFJ1bi4kaW5qZWN0ID0gWydyb3V0ZXJIZWxwZXInXTtcblxuICAgIGZ1bmN0aW9uIGFwcFJ1bihyb3V0ZXJIZWxwZXIpe1xuICAgICAgcm91dGVySGVscGVyLmNvbmZpZ3VyZVN0YXRlKGdldFN0YXRlcygpKTtcbiAgICB9O1xuXG4gICBmdW5jdGlvbiBnZXRTdGF0ZXMoKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RhdGU6ICdkZW1vJyxcbiAgICAgICAgICAgICAgICBjb25maWc6IHtcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdwYW5kYS1kZW1vLmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICB1cmw6ICcvZGVtbycsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIgOiAnRGVtb0NvbnRyb2xsZXInLFxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyQXMgOiAnRGVtb0N0cmwnLFxuICAgICAgICAgICAgICAgICAgICB0aXRsZSA6ICfor7fmsYLmvJTnpLonXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICBdO1xuICAgIH07XG5cblxufSkoKTsiLCIoZnVuY3Rpb24oKXtcbiAgJ3VzZSBzdHJpY3QnO1xuICAvKipcbiAgKiBsYW5kaW5nLmRlbW8gTW9kdWxlXG4gICpcbiAgKiBEZXNjcmlwdGlvblxuICAqL1xuICBhbmd1bGFyXG4gICAgLm1vZHVsZSgnYXBwLmRlbW8nKVxuICAgIC5jb250cm9sbGVyKCdEZW1vQ29udHJvbGxlcicsRGVtb0NvbnRyb2xsZXIpO1xuXG4gICAgRGVtb0NvbnRyb2xsZXIuJGluamVjdCA9IFtdO1xuXG4gICAgZnVuY3Rpb24gRGVtb0NvbnRyb2xsZXIoKXtcblxuICAgIH07XG5cbn0pKCk7IiwiKGZ1bmN0aW9uKCl7XG4gICd1c2Ugc3RyaWN0JztcbiAgLyoqXG4gICogYXBwLmxhbmRpbmcgTW9kdWxlXG4gICpcbiAgKiBEZXNjcmlwdGlvblxuICAqL1xuICAgIGFuZ3VsYXJcbiAgICAubW9kdWxlKCdhcHAubGFuZGluZycpXG4gICAgLnJ1bihhcHBSdW4pO1xuXG4gICAgYXBwUnVuLiRpbmplY3QgPSBbJ3JvdXRlckhlbHBlciddO1xuXG4gICAgZnVuY3Rpb24gYXBwUnVuKCByb3V0ZXJIZWxwZXIgKXtcbiAgICAgIHJvdXRlckhlbHBlci5jb25maWd1cmVTdGF0ZShnZXRTdGF0ZXMoKSk7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGdldFN0YXRlcygpe1xuICAgICAgcmV0dXJuIFtcbiAgICAgICAge1xuICAgICAgICAgIHN0YXRlOiAnbGFuZGluZycsXG4gICAgICAgICAgY29uZmlnOiB7XG4gICAgICAgICAgICAgIGFic3RyYWN0IDogdHJ1ZSxcbiAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcuL2NvbW1vbi9jb250ZW50Lmh0bWwnXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICBdO1xuICAgIH07XG59KSgpOyIsIihmdW5jdGlvbigpe1xuICAndXNlIHN0cmljdCc7XG5cbiAgLyoqXG4gICogbGFuZGluZy5zaWdudXAgTW9kdWxlXG4gICpcbiAgKiBEZXNjcmlwdGlvblxuICAqL1xuICBhbmd1bGFyXG4gICAgLm1vZHVsZSgnYXBwLnNpZ251cCcpXG4gICAgLmNvbnRyb2xsZXIoJ1NpZ251cENvbnRyb2xsZXInLFNpZ251cENvbnRyb2xsZXIpO1xuXG4gICAgU2lnbnVwQ29udHJvbGxlci4kaW5qZWN0ID0gWydBY2NvdW50U2VydmljZSddO1xuXG4gICAgZnVuY3Rpb24gU2lnbnVwQ29udHJvbGxlcihBY2NvdW50U2VydmljZSl7XG5cbiAgICB9O1xufSkoKTsiLCIoZnVuY3Rpb24oKXtcbiAgJ3VzZSBzdHJpY3QnO1xuICAvKipcbiAgKiBsYW5kaW5nLnNpZ251cCBNb2R1bGVcbiAgKlxuICAqIERlc2NyaXB0aW9uXG4gICovXG5cbiAgYW5ndWxhclxuICAgIC5tb2R1bGUoJ2FwcC5zaWdudXAnKVxuICAgIC5ydW4oYXBwUnVuKTtcblxuICAgIGFwcFJ1bi4kaW5qZWN0ID0gWydyb3V0ZXJIZWxwZXInXTtcblxuICAgIGZ1bmN0aW9uIGFwcFJ1biggcm91dGVySGVscGVyICl7XG4gICAgICByb3V0ZXJIZWxwZXIuY29uZmlndXJlU3RhdGUoZ2V0U3RhdGVzKCkpO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBnZXRTdGF0ZXMoKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RhdGU6ICdzaWdudXAnLFxuICAgICAgICAgICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3BhbmRhLXNpZ251cC5odG1sJyxcbiAgICAgICAgICAgICAgICAgICAgdXJsOiAnL3NpZ251cCcsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIgOiAnU2lnbnVwQ29udHJvbGxlcicsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBcyA6ICdTaWdudXBDdHJsJyxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGUgOiAn5rOo5YaMJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgXTtcbiAgICB9O1xuXG59KSgpOyIsIihmdW5jdGlvbigpe1xuICAndXNlIHN0cmljdCc7XG4gIC8qKlxuICAqIGFwcC5jb3JlIE1vZHVsZVxuICAqXG4gICogRGVzY3JpcHRpb25cbiAgKi9cbiAgYW5ndWxhclxuICAgIC5tb2R1bGUoJ2FwcC5jb3JlJylcbiAgICAuZmFjdG9yeSgnQWNjb3VudFNlcnZpY2UnLEFjY291bnRTZXJ2aWNlKTtcblxuICAgIEFjY291bnRTZXJ2aWNlLiRpbmplY3QgPSBbJyRodHRwJ107XG5cbiAgICBmdW5jdGlvbiBBY2NvdW50U2VydmljZSgkaHR0cCl7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgcG9zdEFjY291bnQgOiBwb3N0QWNjb3VudFxuICAgICAgICB9O1xuXG4gICAgICAgIGZ1bmN0aW9uIHBvc3RBY2NvdW50KGFjY291bnQpe1xuICAgICAgICAgIHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL2FjY291bnRzJywgYWNjb3VudClcbiAgICAgICAgICAgICAgICAgIC50aGVuKHBvc3RTdWNjZXNzKVxuICAgICAgICAgICAgICAgICAgLmNhdGNoKHBvc3RGYWlsZWQpO1xuXG4gICAgICAgICAgZnVuY3Rpb24gcG9zdFN1Y2Nlc3MocmVzKXtcbiAgICAgICAgICAgIHJldHVybiByZXMuZGF0YTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgZnVuY3Rpb24gcG9zdEZhaWxlZChyZXMpe1xuICAgICAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKHJlcyk7XG4gICAgICAgICAgfTtcblxuICAgICAgICB9OyBcbiAgICB9O1xuXG59KSgpOyIsIihmdW5jdGlvbigpe1xuICAndXNlIHN0cmljdCc7XG5cbiAgLyoqXG4gICogYmxvY2tzLnJvdXRlciBNb2R1bGVcbiAgKlxuICAqIERlc2NyaXB0aW9uXG4gICovXG4gIGFuZ3VsYXJcbiAgICAubW9kdWxlKCdibG9ja3Mucm91dGVyJylcbiAgICAucHJvdmlkZXIoJ3JvdXRlckhlbHBlcicscm91dGVySGVscGVyUHJvdmlkZXIpO1xuXG4gICAgcm91dGVySGVscGVyUHJvdmlkZXIuJGluamVjdCA9IFsnJGxvY2F0aW9uUHJvdmlkZXInLCckc3RhdGVQcm92aWRlcicsJyR1cmxSb3V0ZXJQcm92aWRlciddO1xuXG4gIGZ1bmN0aW9uIHJvdXRlckhlbHBlclByb3ZpZGVyKCRsb2NhdGlvblByb3ZpZGVyLCRzdGF0ZVByb3ZpZGVyLCR1cmxSb3V0ZXJQcm92aWRlcil7XG5cbiAgICB2YXIgY29uZmlnID0ge1xuICAgICAgZG9jVGl0bGUgOiAnQ29udmVydExhYidcbiAgICB9XG5cbiAgICAvLyAkbG9jYXRpb25Qcm92aWRlci5odG1sNU1vZGUoe1xuICAgIC8vICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAvLyAgIHJlcXVpcmVCYXNlOiBmYWxzZVxuICAgIC8vIH0pO1xuXG4gICAgdGhpcy4kZ2V0ID0gUm91dGVySGVscGVyO1xuXG4gICAgUm91dGVySGVscGVyLiRpbmplY3QgPSBbJyRzdGF0ZScsJyRyb290U2NvcGUnXTtcblxuICAgIGZ1bmN0aW9uIFJvdXRlckhlbHBlcigkc3RhdGUsICRyb290U2NvcGUpe1xuICAgICAgdmFyIGhhc090aGVyd2lzZSA9IGZhbHNlOyBcblxuICAgICAgdmFyIHNlcnZpY2UgPSB7XG4gICAgICAgIGNvbmZpZ3VyZVN0YXRlIDogY29uZmlndXJlU3RhdGUsXG4gICAgICAgIGdldFN0YXRlcyA6IGdldFN0YXRlc1xuICAgICAgfTtcblxuICAgICAgaW5pdCgpO1xuXG4gICAgICByZXR1cm4gc2VydmljZTtcblxuICAgICAgZnVuY3Rpb24gY29uZmlndXJlU3RhdGUoc3RhdGVzLCBvdGhlcndpc2VQYXRoKXtcbiAgICAgICAgc3RhdGVzLmZvckVhY2goZnVuY3Rpb24oc3RhdGUpe1xuICAgICAgICAgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKHN0YXRlLnN0YXRlLHN0YXRlLmNvbmZpZyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICggb3RoZXJ3aXNlUGF0aCAmJiAhaGFzT3RoZXJ3aXNlKSB7XG4gICAgICAgICAgaGFzT3RoZXJ3aXNlID0gdHJ1ZTsgXG4gICAgICAgICAgJHVybFJvdXRlclByb3ZpZGVyLm90aGVyd2lzZShvdGhlcndpc2VQYXRoKTtcbiAgICAgICAgfTtcbiAgICAgIH07XG4gICAgICBmdW5jdGlvbiBnZXRTdGF0ZXMoKXsgcmV0dXJuICRzdGF0ZS5nZXQoKX07XG5cbiAgICAgIGZ1bmN0aW9uIGluaXQoKXtcbiAgICAgICAgdXBkYXRlRG9jVGl0bGUoKTtcbiAgICAgIH07XG5cbiAgICAgIGZ1bmN0aW9uIHVwZGF0ZURvY1RpdGxlKCl7XG4gICAgICAgICRyb290U2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VTdWNjZXNzJyxcbiAgICAgICAgICBmdW5jdGlvbihldmVudCwgdG9TdGF0ZSwgdG9QYXJhbXMsIGZyb21TdGF0ZSwgZnJvbVBhcmFtcyl7XG4gICAgICAgICAgICB2YXIgdGl0bGUgPSBjb25maWcuZG9jVGl0bGUgKyAnIHwgJyArICh0b1N0YXRlLnRpdGxlIHx8ICcnKTtcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCA9IDA7XG4gICAgICAgICAgICAkcm9vdFNjb3BlLnRpdGxlID0gdGl0bGU7XG5cbiAgICAgICAgICAgIC8vIHRyYWNraW5nIGNvZGVcbiAgICAgICAgICAgIF9jbF90cmFja2VyLmluaXQoKTtcbiAgICAgICAgICAgIF9jbF90cmFja2VyLnB1c2goeyB1cmw6IHRvU3RhdGUudXJsLCB0YXJnZXROYW1lOiB0aXRsZSB9KTtcbiAgICAgICAgICAgIF9jbF90cmFja2VyLnRyYWNrKCdvcGVuX3BhZ2UnKTtcbiAgICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgfTtcbiAgfTtcblxufSkoKTtcbiIsIihmdW5jdGlvbigpe1xuICAndXNlIHN0cmljdCc7XG4gIC8qKlxuKiBsYW5kaW5nLmFib3V0IE1vZHVsZVxuKlxuKiBEZXNjcmlwdGlvblxuKi9cbmFuZ3VsYXJcbiAgLm1vZHVsZSgnbGFuZGluZy5hYm91dCcpXG4gIC5jb250cm9sbGVyKCdBYm91dENvbnRyb2xsZXInLEFib3V0Q29udHJvbGxlcilcblxuICBBYm91dENvbnRyb2xsZXIuJGluamVjdCA9IFsnJHJvb3RTY29wZSddO1xuXG4gIGZ1bmN0aW9uIEFib3V0Q29udHJvbGxlcigkcm9vdFNjb3BlKXtcbiAgICB2YXIgdm0gPSB0aGlzOyBcbiAgICB2YXIgdG9wID0gJChcIiNjYXJlZXJcIikub2Zmc2V0KCkudG9wICAtIDMuNSpwYXJzZUZsb2F0KCQoJyNjYXJlZXInKS5jc3MoJ21hcmdpblRvcCcpLnJlcGxhY2UoL2F1dG8vLDApKTtcbiAgICAkKCcjam9pbnVzJykuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAkKCdodG1sLGJvZHknKS5hbmltYXRlKHtzY3JvbGxUb3A6dG9wfSwgNTAwKTtcbiAgICB9KTtcblxuICB9O1xuXG59KSgpO1xuIiwiKGZ1bmN0aW9uKCl7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvKipcbiAgKiBsYW5kaW5nLmhvbWUgTW9kdWxlXG4gICpcbiAgKiBEZXNjcmlwdGlvblxuICAqL1xuICBhbmd1bGFyXG4gICAgLm1vZHVsZSgnbGFuZGluZy5hYm91dCcpXG4gICAgLnJ1bihhcHBSdW4pO1xuXG4gICAgYXBwUnVuLiRpbmplY3QgPSBbJ3JvdXRlckhlbHBlciddO1xuXG4gICAgZnVuY3Rpb24gYXBwUnVuKCByb3V0ZXJIZWxwZXIgKXtcbiAgICAgIHJvdXRlckhlbHBlci5jb25maWd1cmVTdGF0ZShnZXRTdGF0ZXMoKSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0U3RhdGVzKCkge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0YXRlOiAnbGFuZGluZy5hYm91dCcsXG4gICAgICAgICAgICAgICAgY29uZmlnOiB7XG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncGFuZGEtYWJvdXQuaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgIHVybDogJy9hYm91dCcsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIgOiAnQWJvdXRDb250cm9sbGVyJyxcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlckFzIDogJ0Fib3V0Q3RybCcsXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlIDogJ+WFs+aWvOaIkeS7rCdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIF07XG4gICAgfTtcbiAgICBcbn0pKCk7XG4iLCIoZnVuY3Rpb24oKXtcbiAgJ3VzZSBzdHJpY3QnO1xuICBcbiAgLyoqXG4gICogYXBwLmNhcmVlciBNb2R1bGVcbiAgKlxuICAqIERlc2NyaXB0aW9uXG4gICovXG4gIGFuZ3VsYXJcbiAgICAubW9kdWxlKCdsYW5kaW5nLmNhcmVlcicpXG4gICAgLnJ1bihhcHBSdW4pO1xuXG4gICAgYXBwUnVuLiRpbmplY3QgPSBbJ3JvdXRlckhlbHBlciddO1xuXG4gICAgZnVuY3Rpb24gYXBwUnVuKCByb3V0ZXJIZWxwZXIgKXtcbiAgICAgIHJvdXRlckhlbHBlci5jb25maWd1cmVTdGF0ZShnZXRTdGF0ZXMoKSk7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGdldFN0YXRlcygpe1xuICAgICAgcmV0dXJuIFtcbiAgICAgICAge1xuICAgICAgICAgIHN0YXRlOiAnbGFuZGluZy5jYXJlZXJzJyxcbiAgICAgICAgICBjb25maWc6IHtcbiAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdwYW5kYS1jYXJlZXIuaHRtbCcsXG4gICAgICAgICAgICAgIHVybDogJy9jYXJlZXJzLzppZCcsXG4gICAgICAgICAgICAgIHRpdGxlIDogJ+iBjOe8uuaLm+iBmCdcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIF07XG4gICAgfTtcblxufSkoKTsiLCIoZnVuY3Rpb24oKXtcbiAgJ3VzZSBzdHJpY3QnO1xuICAgIC8qKlxuICAqIHBhbmFkYUFwcCBNb2R1bGVcbiAgKlxuICAqIERlc2NyaXB0aW9uXG4gICovXG4gIGFuZ3VsYXJcbiAgICAubW9kdWxlKCdsYW5kaW5nLmNhcmVlcicpXG4gICAgLmNvbnRyb2xsZXIoJ0NhcmVlckNvbnRyb2xsZXInLENhcmVlckNvbnRyb2xsZXIpO1xuXG4gICAgQ2FyZWVyQ29udHJvbGxlci4kaW5qZWN0ID0gW107XG5cbiAgICBmdW5jdGlvbiBDYXJlZXJDb250cm9sbGVyKCl7XG4gICAgICB2YXIgdm0gPSB0aGlzOyBcbiAgICAgIC8vIHZtLmNhcmVlcklkID0gJHN0YXRlUGFyYW1zLmlkO1xuICAgICAgY29uc29sZS5sb2coXCJpdCBpcyBjYXJlZXIgcGFnZVwiKTtcbiAgICB9O1xuXG59KSgpO1xuXG5cbiIsIihmdW5jdGlvbigpe1xuICAndXNlIHN0cmljdCc7XG4gIC8qKlxuICAqIGxhbmRpbmcuZmVhdHVyZSBNb2R1bGVcbiAgKlxuICAqIERlc2NyaXB0aW9uXG4gICovXG4gIGFuZ3VsYXJcbiAgICAubW9kdWxlKCdsYW5kaW5nLmZlYXR1cmUnKVxuICAgIC5jb250cm9sbGVyKCdGZWF0dXJlQ29udHJvbGxlcicsRmVhdHVyZUNvbnRyb2xsZXIpO1xuXG4gICAgRmVhdHVyZUNvbnRyb2xsZXIuJGluamVjdCA9IFtdO1xuXG4gICAgZnVuY3Rpb24gRmVhdHVyZUNvbnRyb2xsZXIoKXtcbiAgICAgIFxuICAgIH07XG5cbn0pKCk7IiwiKGZ1bmN0aW9uKCl7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvKipcbiAgKiBsYW5kaW5nLmZlYXR1cmUgTW9kdWxlXG4gICpcbiAgKiBEZXNjcmlwdGlvblxuICAqL1xuICAgYW5ndWxhclxuICAgIC5tb2R1bGUoJ2xhbmRpbmcuZmVhdHVyZScpXG4gICAgLnJ1bihhcHBSdW4pO1xuXG4gICAgYXBwUnVuLiRpbmplY3QgPSBbJ3JvdXRlckhlbHBlciddO1xuXG4gICAgZnVuY3Rpb24gYXBwUnVuKCByb3V0ZXJIZWxwZXIgKXtcbiAgICAgIHJvdXRlckhlbHBlci5jb25maWd1cmVTdGF0ZShnZXRTdGF0ZXMoKSk7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGdldFN0YXRlcygpe1xuICAgICAgcmV0dXJuIFtcbiAgICAgICAge1xuICAgICAgICAgIHN0YXRlOiAnbGFuZGluZy5mZWF0dXJlJyxcbiAgICAgICAgICBjb25maWc6IHtcbiAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdwYW5kYS1mZWF0dXJlLmh0bWwnLFxuICAgICAgICAgICAgICB1cmw6ICcvZmVhdHVyZXMnLFxuICAgICAgICAgICAgICB0aXRsZSA6ICfkuqflk4HnibnoibInXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICBdO1xuICAgIH07XG5cbn0pKCk7IiwiKGZ1bmN0aW9uKCl7XG4gIC8qKlxuKiBhcHAuaG9tZSBNb2R1bGVcbipcbiogRGVzY3JpcHRpb25cbiovXG5hbmd1bGFyXG4gIC5tb2R1bGUoJ2xhbmRpbmcuaG9tZScpXG4gIC5jb250cm9sbGVyKCdIb21lQ29udHJvbGxlcicsSG9tZUNvbnRyb2xsZXIpXG5cbiAgSG9tZUNvbnRyb2xsZXIuJGluamVjdCA9IFsnQWNjb3VudFNlcnZpY2UnXTtcblxuICBmdW5jdGlvbiBIb21lQ29udHJvbGxlcihBY2NvdW50U2VydmljZSl7XG4gICAgdmFyIHZtID0gdGhpcztcbiAgICB2bS5hY2NvdW50ID0ge307XG4gICAgdm0uc3VibWl0ID0gc3VibWl0O1xuICAgIFxuICAgIFxuICAgICQoXCIuaGVhZGxpbmVcIikuaGlkZSgpLmFuaW1hdGUoeyBsZWZ0OlwiMHB4XCIsIG9wYWNpdHk6XCJzaG93XCJ9LCAxNTAwKTtcblxuICAgIGZ1bmN0aW9uIHN1Ym1pdCgpe1xuICAgICAgcmV0dXJuIEFjY291bnRTZXJ2aWNlLnBvc3RBY2NvdW50KHZtLmFjY291bnQpO1xuICAgIH07XG5cbiAgfTtcblxufSkoKTsiLCIoZnVuY3Rpb24oKXtcbiAgJ3VzZSBzdHJpY3QnO1xuICAvKipcbiAgKiBsYW5kaW5nLmhvbWUgTW9kdWxlXG4gICpcbiAgKiBEZXNjcmlwdGlvblxuICAqL1xuICBhbmd1bGFyXG4gICAgLm1vZHVsZSgnbGFuZGluZy5ob21lJylcbiAgICAucnVuKGFwcFJ1bik7XG5cbiAgICAvKiBAbmdJbmplY3QgKi9cblxuICAgIGFwcFJ1bi4kaW5qZWN0ID0gWydyb3V0ZXJIZWxwZXInXTtcblxuICAgIGZ1bmN0aW9uIGFwcFJ1bihyb3V0ZXJIZWxwZXIpIHtcbiAgICAgICAgcm91dGVySGVscGVyLmNvbmZpZ3VyZVN0YXRlKGdldFN0YXRlcygpLCcvJyk7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGdldFN0YXRlcygpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdGF0ZTogJ2xhbmRpbmcuaG9tZScsXG4gICAgICAgICAgICAgICAgY29uZmlnOiB7XG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncGFuZGEtaG9tZS5odG1sJyxcbiAgICAgICAgICAgICAgICAgICAgdXJsOiAnLycsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIgOiAnSG9tZUNvbnRyb2xsZXInLFxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyQXMgOiAnSG9tZUN0cmwnLFxuICAgICAgICAgICAgICAgICAgICB0aXRsZSA6ICfpppbpobUnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICBdO1xuICAgIH07XG5cbn0pKCk7IiwiKGZ1bmN0aW9uKCl7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvKipcbiAgKiBsYW5kaW5nLm5hdmJhciBNb2R1bGVcbiAgKlxuICAqIERlc2NyaXB0aW9uXG4gICovXG4gIGFuZ3VsYXJcbiAgICAubW9kdWxlKCdsYW5kaW5nLm5hdmJhcicpXG4gICAgLmNvbnRyb2xsZXIoJ05hdmJhckNvbnRyb2xsZXInLCBOYXZiYXJDb250cm9sbGVyKTtcblxuICAgIE5hdmJhckNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHVpYk1vZGFsJywnJHdpbmRvdycsJyRzY29wZScsJyR0cmFuc2xhdGUnXTtcblxuICAgIGZ1bmN0aW9uIE5hdmJhckNvbnRyb2xsZXIoJHVpYk1vZGFsLCAkd2luZG93LCRzY29wZSwgJHRyYW5zbGF0ZSl7XG4gICAgICB2YXIgdm0gPSB0aGlzOyBcbiAgICAgIHZtLnNjcm9sbCA9IGZhbHNlO1xuICAgICAgdm0udGV4dCA9IFwiaGVsbG8gZ28gZ29cIjtcbiAgICAgIHZtLm9wZW5SZWdpc3Rlck1vZGFsID0gb3BlblJlZ2lzdGVyTW9kYWw7IFxuXG4gICAgICBmdW5jdGlvbiBvcGVuUmVnaXN0ZXJNb2RhbCgpIHtcbiAgICAgICAgcmV0dXJuICR1aWJNb2RhbC5vcGVuKHtcbiAgICAgICAgICBhbmltYXRpb246IHRydWUsXG4gICAgICAgICAgdGVtcGxhdGVVcmw6ICdyZWdpc3Rlci5tb2RhbC5odG1sJyxcbiAgICAgICAgICBjb250cm9sbGVyIDogJ1JlZ2lzdGVyQ29udHJvbGxlcicsXG4gICAgICAgICAgY29udHJvbGxlckFzIDonUmVnaXN0ZXJDdHJsJyxcbiAgICAgICAgICBzaXplOiAnbWQnXG4gICAgICAgIH0pO1xuICAgICAgfTtcblxuICAgICAgJHRyYW5zbGF0ZSgnVElUTEUnKS50aGVuKGZ1bmN0aW9uICh0aXRsZSkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKHRpdGxlKTtcbiAgICAgIH0pO1xuXG4gICAgICAkKFwiI3RyeVwiKS5vbihcInNjcm9sbHN0YXJ0XCIsZnVuY3Rpb24oKXtcbiAgICAgICAgYWxlcnQoXCJTdGFydGVkIHNjcm9sbGluZyFcIik7XG4gICAgICB9KTtcblxuICAgICAgLy8gYW5ndWxhci5lbGVtZW50KCR3aW5kb3cpLmJpbmQoXCJzY3JvbGxcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgLy8gICAkc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCl7XG4gICAgICAvLyAgICAgdm0uc2Nyb2xsID0gdHJ1ZTtcbiAgICAgIC8vICAgfSlcbiAgICAgIC8vICAgY29uc29sZS5sb2coXCJzdGFydCB0byBzY3JvbGxcIikgXG4gICAgICAvLyB9KTtcblxuXG4gICAgfTtcblxufSkoKTsiLCIoZnVuY3Rpb24oKXtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8qKlxuICAqIGFwcC5yZWdpc3RlciBNb2R1bGVcbiAgKlxuICAqIERlc2NyaXB0aW9uXG4gICovXG4gIGFuZ3VsYXJcbiAgICAubW9kdWxlKCdhcHAucmVnaXN0ZXInKVxuICAgIC5jb250cm9sbGVyKCdSZWdpc3RlckNvbnRyb2xsZXInLFJlZ2lzdGVyQ29udHJvbGxlcik7XG5cbiAgICBSZWdpc3RlckNvbnRyb2xsZXIuJGluamVjdCA9IFsnQWNjb3VudFNlcnZpY2UnLCckdWliTW9kYWxJbnN0YW5jZSddO1xuXG4gICAgZnVuY3Rpb24gUmVnaXN0ZXJDb250cm9sbGVyKEFjY291bnRTZXJ2aWNlLCR1aWJNb2RhbEluc3RhbmNlKXtcbiAgICAgIHZhciB2bSA9IHRoaXM7IFxuICAgICAgdm0uYWNjb3VudCA9IHt9O1xuICAgICAgdm0uc3VibWl0QWNjb3VudCA9IHN1Ym1pdEFjY291bnQ7XG4gICAgICB2bS5jYW5jZWwgPSBjYW5jZWw7IFxuXG4gICAgICBmdW5jdGlvbiBzdWJtaXRBY2NvdW50KCl7XG4gICAgICAgXG4gICAgICAgIEFjY291bnRTZXJ2aWNlLnBvc3RBY2NvdW50KHZtLmFjY291bnQpLnRoZW4oZnVuY3Rpb24ocmVzKXtcbiAgICAgICAgICBpZiAocmVzKSB7XG4gICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKCdjYW5jZWwnKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgIH07XG5cbiAgICAgIGZ1bmN0aW9uIGNhbmNlbCgpe1xuICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKCdjYW5jZWwnKTtcbiAgICAgIH07XG4gICAgfTtcblxufSkoKTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
