(function(){
  'use strict';
    /**
  * app Module
  *
  * Description
  */
  angular.module('pandaApp', [
    'app.core',
    'app.landing'
  ]);
})();
(function(){
  'use strict';
  /**
  * app.about Module
  *
  * Description
  */
  angular
    .module('app.about', [
      'app.core'
    ])
})();
(function(){
  'use strict';
  /**
  * app.career Module
  *
  * Description
  */
  angular
    .module('app.career',[
      'app.core',
      'ui.router'
    ]);
})();
(function(){
  'use strict';
  /**
  * app.core Module
  *
  * Description
  */
  angular
    .module('app.core',[
      'blocks.router',
      'ui.router'
      ])
})();
(function(){
  /**
  * app.panda-home Module
  *
  * Description
  */
  angular
    .module('app.home',[
      'app.core'
    ])

})();
(function(){
  'use strict';

  /**
  * app.landing Module
  *
  * Description
  */
  angular.module('app.landing',[
      'app.core',
      'app.home',
      'app.about',
      'app.career',
      'app.navbar'
    ])
})();
(function(){
  'use strict';
  /**
  * app.navbar Module
  *
  * Description
  */
  angular
    .module('app.navbar', [
      'ui.bootstrap',
      'app.register'
    ]);
})();
(function(){
  'use strict';
 /**
 * blocks.router Module
 *
 * Description
 */
  
  angular.module('blocks.router', [
    'ui.router'
    ]);
})();
(function(){
  'use strict';

  /**
  * app.register Module
  *
  * Description
  */
  angular
    .module('app.register', [
      'ui.bootstrap'
    ]);
})();
(function(){
  'use strict';
  /**
* pandaApp Module
*
* Description
*/
angular
  .module('app.about')
  .controller('AboutController',AboutController)

  AboutController.$inject = ['$rootScope'];

  function AboutController($rootScope){
    var vm = this; 
    var top = $("#career").offset().top  - 3.5*parseFloat($('#career').css('marginTop').replace(/auto/,0));
    $('#joinus').click(function () {
        $('html,body').animate({scrollTop:top}, 500);
    });

  };

})();

(function(){
  'use strict';

  /**
  * app.home Module
  *
  * Description
  */
  angular
    .module('app.about')
    .run(appRun);

    appRun.$inject = ['routerHelper'];

    function appRun( routerHelper ){
      routerHelper.configureState(getStates());
    }

    function getStates() {
        return [
            {
                state: 'landing.about',
                config: {
                    templateUrl: 'panda-about.html',
                    url: '/about',
                    controller : 'AboutController',
                    controllerAs : 'AboutCtrl',
                    title : '關於我們'
                }
            }
        ];
    };
    
})();

(function(){
  'use strict';
  
  /**
  * app.career Module
  *
  * Description
  */
  angular
    .module('app.career')
    .run(appRun);

    appRun.$inject = ['routerHelper'];

    function appRun( routerHelper ){
      routerHelper.configureState(getStates());
    };

    function getStates(){
      return [
        {
          state: 'landing.careers',
          config: {
              templateUrl: 'panda-career.html',
              url: '/careers/:id',
              title : '職涯'
          }
        }
      ];
    };

})();
(function(){
  'use strict';
    /**
  * panadaApp Module
  *
  * Description
  */
  angular
    .module('app.career')
    .controller('CareerController',CareerController);

    CareerController.$inject = [];

    function CareerController(){
      var vm = this; 
      // vm.careerId = $stateParams.id;
      console.log("it is career page");
    };

})();



(function(){
  /**
* app.home Module
*
* Description
*/
angular
  .module('app.home')
  .controller('HomeController',HomeController)

  HomeController.$inject = ['AccountService'];

  function HomeController(AccountService){
    var vm = this;
    vm.account = {};
    vm.submit = submit;
    
    
    $(".headline").hide().animate({ left:"0px", opacity:"show"}, 1500);

    function submit(){
      return AccountService.postAccount(vm.account);
    };

  };

})();
(function(){
  'use strict';
  /**
  * app.home Module
  *
  * Description
  */
  angular
    .module('app.home')
    .run(appRun);

    /* @ngInject */

    appRun.$inject = ['routerHelper'];

    function appRun(routerHelper) {
        routerHelper.configureState(getStates(),'/');
    };

    function getStates() {
        return [
            {
                state: 'landing.home',
                config: {
                    templateUrl: 'panda-home.html',
                    url: '/',
                    controller : 'HomeController',
                    controllerAs : 'HomeCtrl',
                    title : '首頁'
                }
            }
        ];
    };

})();
(function(){
  'use strict';
  /**
  * app.landing Module
  *
  * Description
  */
    angular
    .module('app.landing')
    .run(appRun);

    appRun.$inject = ['routerHelper'];

    function appRun( routerHelper ){
      routerHelper.configureState(getStates());
    };

    function getStates(){
      return [
        {
          state: 'landing',
          config: {
              abstract : true,
              templateUrl: './common/content.html'
          }
        }
      ];
    };
})();
(function(){
  'use strict';

  /**
  * app.navbar Module
  *
  * Description
  */
  angular
    .module('app.navbar')
    .controller('NavbarController', NavbarController);

    NavbarController.$inject = ['$uibModal','$window','$scope'];

    function NavbarController($uibModal, $window,$scope){
      var vm = this; 
      vm.scroll = false;
      vm.text = "hello go go";
      vm.openRegisterModal = openRegisterModal; 

      function openRegisterModal() {
        return $uibModal.open({
          animation: true,
          templateUrl: 'register.modal.html',
          controller : 'RegisterController',
          controllerAs :'RegisterCtrl',
          size: 'md'
        });
      };

      $("#try").on("scrollstart",function(){
        alert("Started scrolling!");
      });

      // angular.element($window).bind("scroll", function(e) {
      //   $scope.$apply(function(){
      //     vm.scroll = true;
      //   })
      //   console.log("start to scroll") 
      // });


    };

})();
(function(){
  'use strict';

  /**
  * blocks.router Module
  *
  * Description
  */
  angular
    .module('blocks.router')
    .provider('routerHelper',routerHelperProvider);

    routerHelperProvider.$inject = ['$locationProvider','$stateProvider','$urlRouterProvider'];

  function routerHelperProvider($locationProvider,$stateProvider,$urlRouterProvider){

    var config = {
      docTitle : '成長熊貓'
    }

    // $locationProvider.html5Mode({
    //   enabled: true,
    //   requireBase: false
    // });

    this.$get = RouterHelper;

    RouterHelper.$inject = ['$state','$rootScope'];

    function RouterHelper($state, $rootScope){
      var hasOtherwise = false; 

      var service = {
        configureState : configureState,
        getStates : getStates
      };

      init();

      return service;

      function configureState(states, otherwisePath){
        states.forEach(function(state){
          $stateProvider.state(state.state,state.config);
        });

        if ( otherwisePath && !hasOtherwise) {
          hasOtherwise = true; 
          $urlRouterProvider.otherwise(otherwisePath);
        };
      };
      function getStates(){ return $state.get()};

      function init(){
        updateDocTitle();
      };

      function updateDocTitle(){
        $rootScope.$on('$stateChangeSuccess',
          function(event, toState, toParams, fromState, fromParams){
            var title = config.docTitle + ' | ' + (toState.title || '');
            $rootScope.title = title;
          });
      }
    
    };
  };

})();

(function(){
  'use strict';
  /**
  * app.core Module
  *
  * Description
  */
  angular
    .module('app.core')
    .factory('AccountService',AccountService);

    AccountService.$inject = ['$http'];

    function AccountService($http){
        return {
          postAccount : postAccount
        };

        function postAccount(account){
          return $http.post('/api/accounts', account)
                  .then(postSuccess)
                  .catch(postFailed);

          function postSuccess(res){
            return res.data;
          };

          function postFailed(res){
            return console.log(res);
          };

        }; 
    };

})();
(function(){
  'use strict';

  /**
  * app.register Module
  *
  * Description
  */
  angular
    .module('app.register')
    .controller('RegisterController',RegisterController);

    RegisterController.$inject = ['AccountService','$uibModalInstance'];

    function RegisterController(AccountService,$uibModalInstance){
      var vm = this; 
      vm.account = {};
      vm.submitAccount = submitAccount;
      vm.cancel = cancel; 

      function submitAccount(){
       
        AccountService.postAccount(vm.account).then(function(res){
          if (res) {
            $uibModalInstance.dismiss('cancel');
          };
        });
      };

      function cancel(){
        $uibModalInstance.dismiss('cancel');
      };
    };

})();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5tb2R1bGUuanMiLCJhYm91dC9hYm91dC5tb2R1bGUuanMiLCJjYXJlZXIvY2FyZWVyLm1vZHVsZS5qcyIsImNvcmVzL2NvcmUubW9kdWxlLmpzIiwiaG9tZS9ob21lLm1vZHVsZS5qcyIsImxhbmRpbmcvbGFuZGluZy5tb2R1bGUuanMiLCJuYXZiYXIvbmF2YmFyLm1vZHVsZS5qcyIsImJsb2NrL3JvdXRlci9yb3V0ZXIubW9kdWxlLmpzIiwibW9kYWwvcmVnaXN0ZXIvcmVnaXN0ZXIubW9kdWxlLmpzIiwiYWJvdXQvYWJvdXQuY3RybC5qcyIsImFib3V0L2Fib3V0LnJvdXRlLmpzIiwiY2FyZWVyL2NhcmVlci5yb3V0ZXIuanMiLCJjYXJlZXIvY2FycmVyLmN0cmwuanMiLCJob21lL2hvbWUuY3RybC5qcyIsImhvbWUvaG9tZS5yb3V0ZS5qcyIsImxhbmRpbmcvbGFuZGluZy5yb3V0ZXIuanMiLCJuYXZiYXIvbmF2YmFyLmN0cmwuanMiLCJibG9jay9yb3V0ZXIvcm91dGVyLWhlbHBlci5wcm92aWRlci5qcyIsImNvcmVzL2RhdGFTZXJ2aWNlL2FjY291bnQuc2VydmljZS5qcyIsIm1vZGFsL3JlZ2lzdGVyL3JlZ2lzdGVyLmN0cmwuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsQ0FBQSxVQUFBO0VBQ0E7Ozs7OztFQU1BLFFBQUEsT0FBQSxZQUFBO0lBQ0E7SUFDQTs7O0FDVEEsQ0FBQSxVQUFBO0VBQ0E7Ozs7OztFQU1BO0tBQ0EsT0FBQSxhQUFBO01BQ0E7OztBQ1RBLENBQUEsVUFBQTtFQUNBOzs7Ozs7RUFNQTtLQUNBLE9BQUEsYUFBQTtNQUNBO01BQ0E7OztBQ1ZBLENBQUEsVUFBQTtFQUNBOzs7Ozs7RUFNQTtLQUNBLE9BQUEsV0FBQTtNQUNBO01BQ0E7OztBQ1ZBLENBQUEsVUFBQTs7Ozs7O0VBTUE7S0FDQSxPQUFBLFdBQUE7TUFDQTs7OztBQ1JBLENBQUEsVUFBQTtFQUNBOzs7Ozs7O0VBT0EsUUFBQSxPQUFBLGNBQUE7TUFDQTtNQUNBO01BQ0E7TUFDQTtNQUNBOzs7QUNiQSxDQUFBLFVBQUE7RUFDQTs7Ozs7O0VBTUE7S0FDQSxPQUFBLGNBQUE7TUFDQTtNQUNBOzs7QUNWQSxDQUFBLFVBQUE7RUFDQTs7Ozs7OztFQU9BLFFBQUEsT0FBQSxpQkFBQTtJQUNBOzs7QUNUQSxDQUFBLFVBQUE7RUFDQTs7Ozs7OztFQU9BO0tBQ0EsT0FBQSxnQkFBQTtNQUNBOzs7QUNWQSxDQUFBLFVBQUE7RUFDQTs7Ozs7O0FBTUE7R0FDQSxPQUFBO0dBQ0EsV0FBQSxrQkFBQTs7RUFFQSxnQkFBQSxVQUFBLENBQUE7O0VBRUEsU0FBQSxnQkFBQSxXQUFBO0lBQ0EsSUFBQSxLQUFBO0lBQ0EsSUFBQSxNQUFBLEVBQUEsV0FBQSxTQUFBLE9BQUEsSUFBQSxXQUFBLEVBQUEsV0FBQSxJQUFBLGFBQUEsUUFBQSxPQUFBO0lBQ0EsRUFBQSxXQUFBLE1BQUEsWUFBQTtRQUNBLEVBQUEsYUFBQSxRQUFBLENBQUEsVUFBQSxNQUFBOzs7R0FHQTs7OztBQ3BCQSxDQUFBLFVBQUE7RUFDQTs7Ozs7OztFQU9BO0tBQ0EsT0FBQTtLQUNBLElBQUE7O0lBRUEsT0FBQSxVQUFBLENBQUE7O0lBRUEsU0FBQSxRQUFBLGNBQUE7TUFDQSxhQUFBLGVBQUE7OztJQUdBLFNBQUEsWUFBQTtRQUNBLE9BQUE7WUFDQTtnQkFDQSxPQUFBO2dCQUNBLFFBQUE7b0JBQ0EsYUFBQTtvQkFDQSxLQUFBO29CQUNBLGFBQUE7b0JBQ0EsZUFBQTtvQkFDQSxRQUFBOzs7O0tBSUE7Ozs7QUMvQkEsQ0FBQSxVQUFBO0VBQ0E7Ozs7Ozs7RUFPQTtLQUNBLE9BQUE7S0FDQSxJQUFBOztJQUVBLE9BQUEsVUFBQSxDQUFBOztJQUVBLFNBQUEsUUFBQSxjQUFBO01BQ0EsYUFBQSxlQUFBO0tBQ0E7O0lBRUEsU0FBQSxXQUFBO01BQ0EsT0FBQTtRQUNBO1VBQ0EsT0FBQTtVQUNBLFFBQUE7Y0FDQSxhQUFBO2NBQ0EsS0FBQTtjQUNBLFFBQUE7Ozs7S0FJQTs7O0FDN0JBLENBQUEsVUFBQTtFQUNBOzs7Ozs7RUFNQTtLQUNBLE9BQUE7S0FDQSxXQUFBLG1CQUFBOztJQUVBLGlCQUFBLFVBQUE7O0lBRUEsU0FBQSxrQkFBQTtNQUNBLElBQUEsS0FBQTs7TUFFQSxRQUFBLElBQUE7S0FDQTs7Ozs7O0FDakJBLENBQUEsVUFBQTs7Ozs7O0FBTUE7R0FDQSxPQUFBO0dBQ0EsV0FBQSxpQkFBQTs7RUFFQSxlQUFBLFVBQUEsQ0FBQTs7RUFFQSxTQUFBLGVBQUEsZUFBQTtJQUNBLElBQUEsS0FBQTtJQUNBLEdBQUEsVUFBQTtJQUNBLEdBQUEsU0FBQTs7O0lBR0EsRUFBQSxhQUFBLE9BQUEsUUFBQSxFQUFBLEtBQUEsT0FBQSxRQUFBLFNBQUE7O0lBRUEsU0FBQSxRQUFBO01BQ0EsT0FBQSxlQUFBLFlBQUEsR0FBQTtLQUNBOztHQUVBOzs7QUN4QkEsQ0FBQSxVQUFBO0VBQ0E7Ozs7OztFQU1BO0tBQ0EsT0FBQTtLQUNBLElBQUE7Ozs7SUFJQSxPQUFBLFVBQUEsQ0FBQTs7SUFFQSxTQUFBLE9BQUEsY0FBQTtRQUNBLGFBQUEsZUFBQSxZQUFBO0tBQ0E7O0lBRUEsU0FBQSxZQUFBO1FBQ0EsT0FBQTtZQUNBO2dCQUNBLE9BQUE7Z0JBQ0EsUUFBQTtvQkFDQSxhQUFBO29CQUNBLEtBQUE7b0JBQ0EsYUFBQTtvQkFDQSxlQUFBO29CQUNBLFFBQUE7Ozs7S0FJQTs7O0FDaENBLENBQUEsVUFBQTtFQUNBOzs7Ozs7SUFNQTtLQUNBLE9BQUE7S0FDQSxJQUFBOztJQUVBLE9BQUEsVUFBQSxDQUFBOztJQUVBLFNBQUEsUUFBQSxjQUFBO01BQ0EsYUFBQSxlQUFBO0tBQ0E7O0lBRUEsU0FBQSxXQUFBO01BQ0EsT0FBQTtRQUNBO1VBQ0EsT0FBQTtVQUNBLFFBQUE7Y0FDQSxXQUFBO2NBQ0EsYUFBQTs7OztLQUlBOztBQzNCQSxDQUFBLFVBQUE7RUFDQTs7Ozs7OztFQU9BO0tBQ0EsT0FBQTtLQUNBLFdBQUEsb0JBQUE7O0lBRUEsaUJBQUEsVUFBQSxDQUFBLFlBQUEsVUFBQTs7SUFFQSxTQUFBLGlCQUFBLFdBQUEsUUFBQSxPQUFBO01BQ0EsSUFBQSxLQUFBO01BQ0EsR0FBQSxTQUFBO01BQ0EsR0FBQSxPQUFBO01BQ0EsR0FBQSxvQkFBQTs7TUFFQSxTQUFBLG9CQUFBO1FBQ0EsT0FBQSxVQUFBLEtBQUE7VUFDQSxXQUFBO1VBQ0EsYUFBQTtVQUNBLGFBQUE7VUFDQSxjQUFBO1VBQ0EsTUFBQTs7T0FFQTs7TUFFQSxFQUFBLFFBQUEsR0FBQSxjQUFBLFVBQUE7UUFDQSxNQUFBOzs7Ozs7Ozs7OztLQVdBOzs7QUMxQ0EsQ0FBQSxVQUFBO0VBQ0E7Ozs7Ozs7RUFPQTtLQUNBLE9BQUE7S0FDQSxTQUFBLGVBQUE7O0lBRUEscUJBQUEsVUFBQSxDQUFBLG9CQUFBLGlCQUFBOztFQUVBLFNBQUEscUJBQUEsa0JBQUEsZUFBQSxtQkFBQTs7SUFFQSxJQUFBLFNBQUE7TUFDQSxXQUFBOzs7Ozs7OztJQVFBLEtBQUEsT0FBQTs7SUFFQSxhQUFBLFVBQUEsQ0FBQSxTQUFBOztJQUVBLFNBQUEsYUFBQSxRQUFBLFdBQUE7TUFDQSxJQUFBLGVBQUE7O01BRUEsSUFBQSxVQUFBO1FBQ0EsaUJBQUE7UUFDQSxZQUFBOzs7TUFHQTs7TUFFQSxPQUFBOztNQUVBLFNBQUEsZUFBQSxRQUFBLGNBQUE7UUFDQSxPQUFBLFFBQUEsU0FBQSxNQUFBO1VBQ0EsZUFBQSxNQUFBLE1BQUEsTUFBQSxNQUFBOzs7UUFHQSxLQUFBLGlCQUFBLENBQUEsY0FBQTtVQUNBLGVBQUE7VUFDQSxtQkFBQSxVQUFBO1NBQ0E7T0FDQTtNQUNBLFNBQUEsV0FBQSxFQUFBLE9BQUEsT0FBQSxNQUFBOztNQUVBLFNBQUEsTUFBQTtRQUNBO09BQ0E7O01BRUEsU0FBQSxnQkFBQTtRQUNBLFdBQUEsSUFBQTtVQUNBLFNBQUEsT0FBQSxTQUFBLFVBQUEsV0FBQSxXQUFBO1lBQ0EsSUFBQSxRQUFBLE9BQUEsV0FBQSxTQUFBLFFBQUEsU0FBQTtZQUNBLFdBQUEsUUFBQTs7OztLQUlBO0dBQ0E7Ozs7QUNsRUEsQ0FBQSxVQUFBO0VBQ0E7Ozs7OztFQU1BO0tBQ0EsT0FBQTtLQUNBLFFBQUEsaUJBQUE7O0lBRUEsZUFBQSxVQUFBLENBQUE7O0lBRUEsU0FBQSxlQUFBLE1BQUE7UUFDQSxPQUFBO1VBQ0EsY0FBQTs7O1FBR0EsU0FBQSxZQUFBLFFBQUE7VUFDQSxPQUFBLE1BQUEsS0FBQSxpQkFBQTttQkFDQSxLQUFBO21CQUNBLE1BQUE7O1VBRUEsU0FBQSxZQUFBLElBQUE7WUFDQSxPQUFBLElBQUE7V0FDQTs7VUFFQSxTQUFBLFdBQUEsSUFBQTtZQUNBLE9BQUEsUUFBQSxJQUFBO1dBQ0E7O1NBRUE7S0FDQTs7O0FDaENBLENBQUEsVUFBQTtFQUNBOzs7Ozs7O0VBT0E7S0FDQSxPQUFBO0tBQ0EsV0FBQSxxQkFBQTs7SUFFQSxtQkFBQSxVQUFBLENBQUEsaUJBQUE7O0lBRUEsU0FBQSxtQkFBQSxlQUFBLGtCQUFBO01BQ0EsSUFBQSxLQUFBO01BQ0EsR0FBQSxVQUFBO01BQ0EsR0FBQSxnQkFBQTtNQUNBLEdBQUEsU0FBQTs7TUFFQSxTQUFBLGVBQUE7O1FBRUEsZUFBQSxZQUFBLEdBQUEsU0FBQSxLQUFBLFNBQUEsSUFBQTtVQUNBLElBQUEsS0FBQTtZQUNBLGtCQUFBLFFBQUE7V0FDQTs7T0FFQTs7TUFFQSxTQUFBLFFBQUE7UUFDQSxrQkFBQSxRQUFBO09BQ0E7S0FDQTs7S0FFQSIsImZpbGUiOiJhcHAubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7XG4gICd1c2Ugc3RyaWN0JztcbiAgICAvKipcbiAgKiBhcHAgTW9kdWxlXG4gICpcbiAgKiBEZXNjcmlwdGlvblxuICAqL1xuICBhbmd1bGFyLm1vZHVsZSgncGFuZGFBcHAnLCBbXG4gICAgJ2FwcC5jb3JlJyxcbiAgICAnYXBwLmxhbmRpbmcnXG4gIF0pO1xufSkoKTsiLCIoZnVuY3Rpb24oKXtcbiAgJ3VzZSBzdHJpY3QnO1xuICAvKipcbiAgKiBhcHAuYWJvdXQgTW9kdWxlXG4gICpcbiAgKiBEZXNjcmlwdGlvblxuICAqL1xuICBhbmd1bGFyXG4gICAgLm1vZHVsZSgnYXBwLmFib3V0JywgW1xuICAgICAgJ2FwcC5jb3JlJ1xuICAgIF0pXG59KSgpOyIsIihmdW5jdGlvbigpe1xuICAndXNlIHN0cmljdCc7XG4gIC8qKlxuICAqIGFwcC5jYXJlZXIgTW9kdWxlXG4gICpcbiAgKiBEZXNjcmlwdGlvblxuICAqL1xuICBhbmd1bGFyXG4gICAgLm1vZHVsZSgnYXBwLmNhcmVlcicsW1xuICAgICAgJ2FwcC5jb3JlJyxcbiAgICAgICd1aS5yb3V0ZXInXG4gICAgXSk7XG59KSgpOyIsIihmdW5jdGlvbigpe1xuICAndXNlIHN0cmljdCc7XG4gIC8qKlxuICAqIGFwcC5jb3JlIE1vZHVsZVxuICAqXG4gICogRGVzY3JpcHRpb25cbiAgKi9cbiAgYW5ndWxhclxuICAgIC5tb2R1bGUoJ2FwcC5jb3JlJyxbXG4gICAgICAnYmxvY2tzLnJvdXRlcicsXG4gICAgICAndWkucm91dGVyJ1xuICAgICAgXSlcbn0pKCk7IiwiKGZ1bmN0aW9uKCl7XG4gIC8qKlxuICAqIGFwcC5wYW5kYS1ob21lIE1vZHVsZVxuICAqXG4gICogRGVzY3JpcHRpb25cbiAgKi9cbiAgYW5ndWxhclxuICAgIC5tb2R1bGUoJ2FwcC5ob21lJyxbXG4gICAgICAnYXBwLmNvcmUnXG4gICAgXSlcblxufSkoKTsiLCIoZnVuY3Rpb24oKXtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8qKlxuICAqIGFwcC5sYW5kaW5nIE1vZHVsZVxuICAqXG4gICogRGVzY3JpcHRpb25cbiAgKi9cbiAgYW5ndWxhci5tb2R1bGUoJ2FwcC5sYW5kaW5nJyxbXG4gICAgICAnYXBwLmNvcmUnLFxuICAgICAgJ2FwcC5ob21lJyxcbiAgICAgICdhcHAuYWJvdXQnLFxuICAgICAgJ2FwcC5jYXJlZXInLFxuICAgICAgJ2FwcC5uYXZiYXInXG4gICAgXSlcbn0pKCk7IiwiKGZ1bmN0aW9uKCl7XG4gICd1c2Ugc3RyaWN0JztcbiAgLyoqXG4gICogYXBwLm5hdmJhciBNb2R1bGVcbiAgKlxuICAqIERlc2NyaXB0aW9uXG4gICovXG4gIGFuZ3VsYXJcbiAgICAubW9kdWxlKCdhcHAubmF2YmFyJywgW1xuICAgICAgJ3VpLmJvb3RzdHJhcCcsXG4gICAgICAnYXBwLnJlZ2lzdGVyJ1xuICAgIF0pO1xufSkoKTsiLCIoZnVuY3Rpb24oKXtcbiAgJ3VzZSBzdHJpY3QnO1xuIC8qKlxuICogYmxvY2tzLnJvdXRlciBNb2R1bGVcbiAqXG4gKiBEZXNjcmlwdGlvblxuICovXG4gIFxuICBhbmd1bGFyLm1vZHVsZSgnYmxvY2tzLnJvdXRlcicsIFtcbiAgICAndWkucm91dGVyJ1xuICAgIF0pO1xufSkoKTsiLCIoZnVuY3Rpb24oKXtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8qKlxuICAqIGFwcC5yZWdpc3RlciBNb2R1bGVcbiAgKlxuICAqIERlc2NyaXB0aW9uXG4gICovXG4gIGFuZ3VsYXJcbiAgICAubW9kdWxlKCdhcHAucmVnaXN0ZXInLCBbXG4gICAgICAndWkuYm9vdHN0cmFwJ1xuICAgIF0pO1xufSkoKTsiLCIoZnVuY3Rpb24oKXtcbiAgJ3VzZSBzdHJpY3QnO1xuICAvKipcbiogcGFuZGFBcHAgTW9kdWxlXG4qXG4qIERlc2NyaXB0aW9uXG4qL1xuYW5ndWxhclxuICAubW9kdWxlKCdhcHAuYWJvdXQnKVxuICAuY29udHJvbGxlcignQWJvdXRDb250cm9sbGVyJyxBYm91dENvbnRyb2xsZXIpXG5cbiAgQWJvdXRDb250cm9sbGVyLiRpbmplY3QgPSBbJyRyb290U2NvcGUnXTtcblxuICBmdW5jdGlvbiBBYm91dENvbnRyb2xsZXIoJHJvb3RTY29wZSl7XG4gICAgdmFyIHZtID0gdGhpczsgXG4gICAgdmFyIHRvcCA9ICQoXCIjY2FyZWVyXCIpLm9mZnNldCgpLnRvcCAgLSAzLjUqcGFyc2VGbG9hdCgkKCcjY2FyZWVyJykuY3NzKCdtYXJnaW5Ub3AnKS5yZXBsYWNlKC9hdXRvLywwKSk7XG4gICAgJCgnI2pvaW51cycpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJCgnaHRtbCxib2R5JykuYW5pbWF0ZSh7c2Nyb2xsVG9wOnRvcH0sIDUwMCk7XG4gICAgfSk7XG5cbiAgfTtcblxufSkoKTtcbiIsIihmdW5jdGlvbigpe1xuICAndXNlIHN0cmljdCc7XG5cbiAgLyoqXG4gICogYXBwLmhvbWUgTW9kdWxlXG4gICpcbiAgKiBEZXNjcmlwdGlvblxuICAqL1xuICBhbmd1bGFyXG4gICAgLm1vZHVsZSgnYXBwLmFib3V0JylcbiAgICAucnVuKGFwcFJ1bik7XG5cbiAgICBhcHBSdW4uJGluamVjdCA9IFsncm91dGVySGVscGVyJ107XG5cbiAgICBmdW5jdGlvbiBhcHBSdW4oIHJvdXRlckhlbHBlciApe1xuICAgICAgcm91dGVySGVscGVyLmNvbmZpZ3VyZVN0YXRlKGdldFN0YXRlcygpKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRTdGF0ZXMoKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RhdGU6ICdsYW5kaW5nLmFib3V0JyxcbiAgICAgICAgICAgICAgICBjb25maWc6IHtcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdwYW5kYS1hYm91dC5odG1sJyxcbiAgICAgICAgICAgICAgICAgICAgdXJsOiAnL2Fib3V0JyxcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlciA6ICdBYm91dENvbnRyb2xsZXInLFxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyQXMgOiAnQWJvdXRDdHJsJyxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGUgOiAn6Zec5pa85oiR5YCRJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgXTtcbiAgICB9O1xuICAgIFxufSkoKTtcbiIsIihmdW5jdGlvbigpe1xuICAndXNlIHN0cmljdCc7XG4gIFxuICAvKipcbiAgKiBhcHAuY2FyZWVyIE1vZHVsZVxuICAqXG4gICogRGVzY3JpcHRpb25cbiAgKi9cbiAgYW5ndWxhclxuICAgIC5tb2R1bGUoJ2FwcC5jYXJlZXInKVxuICAgIC5ydW4oYXBwUnVuKTtcblxuICAgIGFwcFJ1bi4kaW5qZWN0ID0gWydyb3V0ZXJIZWxwZXInXTtcblxuICAgIGZ1bmN0aW9uIGFwcFJ1biggcm91dGVySGVscGVyICl7XG4gICAgICByb3V0ZXJIZWxwZXIuY29uZmlndXJlU3RhdGUoZ2V0U3RhdGVzKCkpO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBnZXRTdGF0ZXMoKXtcbiAgICAgIHJldHVybiBbXG4gICAgICAgIHtcbiAgICAgICAgICBzdGF0ZTogJ2xhbmRpbmcuY2FyZWVycycsXG4gICAgICAgICAgY29uZmlnOiB7XG4gICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncGFuZGEtY2FyZWVyLmh0bWwnLFxuICAgICAgICAgICAgICB1cmw6ICcvY2FyZWVycy86aWQnLFxuICAgICAgICAgICAgICB0aXRsZSA6ICfogbfmtq8nXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICBdO1xuICAgIH07XG5cbn0pKCk7IiwiKGZ1bmN0aW9uKCl7XG4gICd1c2Ugc3RyaWN0JztcbiAgICAvKipcbiAgKiBwYW5hZGFBcHAgTW9kdWxlXG4gICpcbiAgKiBEZXNjcmlwdGlvblxuICAqL1xuICBhbmd1bGFyXG4gICAgLm1vZHVsZSgnYXBwLmNhcmVlcicpXG4gICAgLmNvbnRyb2xsZXIoJ0NhcmVlckNvbnRyb2xsZXInLENhcmVlckNvbnRyb2xsZXIpO1xuXG4gICAgQ2FyZWVyQ29udHJvbGxlci4kaW5qZWN0ID0gW107XG5cbiAgICBmdW5jdGlvbiBDYXJlZXJDb250cm9sbGVyKCl7XG4gICAgICB2YXIgdm0gPSB0aGlzOyBcbiAgICAgIC8vIHZtLmNhcmVlcklkID0gJHN0YXRlUGFyYW1zLmlkO1xuICAgICAgY29uc29sZS5sb2coXCJpdCBpcyBjYXJlZXIgcGFnZVwiKTtcbiAgICB9O1xuXG59KSgpO1xuXG5cbiIsIihmdW5jdGlvbigpe1xuICAvKipcbiogYXBwLmhvbWUgTW9kdWxlXG4qXG4qIERlc2NyaXB0aW9uXG4qL1xuYW5ndWxhclxuICAubW9kdWxlKCdhcHAuaG9tZScpXG4gIC5jb250cm9sbGVyKCdIb21lQ29udHJvbGxlcicsSG9tZUNvbnRyb2xsZXIpXG5cbiAgSG9tZUNvbnRyb2xsZXIuJGluamVjdCA9IFsnQWNjb3VudFNlcnZpY2UnXTtcblxuICBmdW5jdGlvbiBIb21lQ29udHJvbGxlcihBY2NvdW50U2VydmljZSl7XG4gICAgdmFyIHZtID0gdGhpcztcbiAgICB2bS5hY2NvdW50ID0ge307XG4gICAgdm0uc3VibWl0ID0gc3VibWl0O1xuICAgIFxuICAgIFxuICAgICQoXCIuaGVhZGxpbmVcIikuaGlkZSgpLmFuaW1hdGUoeyBsZWZ0OlwiMHB4XCIsIG9wYWNpdHk6XCJzaG93XCJ9LCAxNTAwKTtcblxuICAgIGZ1bmN0aW9uIHN1Ym1pdCgpe1xuICAgICAgcmV0dXJuIEFjY291bnRTZXJ2aWNlLnBvc3RBY2NvdW50KHZtLmFjY291bnQpO1xuICAgIH07XG5cbiAgfTtcblxufSkoKTsiLCIoZnVuY3Rpb24oKXtcbiAgJ3VzZSBzdHJpY3QnO1xuICAvKipcbiAgKiBhcHAuaG9tZSBNb2R1bGVcbiAgKlxuICAqIERlc2NyaXB0aW9uXG4gICovXG4gIGFuZ3VsYXJcbiAgICAubW9kdWxlKCdhcHAuaG9tZScpXG4gICAgLnJ1bihhcHBSdW4pO1xuXG4gICAgLyogQG5nSW5qZWN0ICovXG5cbiAgICBhcHBSdW4uJGluamVjdCA9IFsncm91dGVySGVscGVyJ107XG5cbiAgICBmdW5jdGlvbiBhcHBSdW4ocm91dGVySGVscGVyKSB7XG4gICAgICAgIHJvdXRlckhlbHBlci5jb25maWd1cmVTdGF0ZShnZXRTdGF0ZXMoKSwnLycpO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBnZXRTdGF0ZXMoKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RhdGU6ICdsYW5kaW5nLmhvbWUnLFxuICAgICAgICAgICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3BhbmRhLWhvbWUuaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgIHVybDogJy8nLFxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyIDogJ0hvbWVDb250cm9sbGVyJyxcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlckFzIDogJ0hvbWVDdHJsJyxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGUgOiAn6aaW6aCBJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgXTtcbiAgICB9O1xuXG59KSgpOyIsIihmdW5jdGlvbigpe1xuICAndXNlIHN0cmljdCc7XG4gIC8qKlxuICAqIGFwcC5sYW5kaW5nIE1vZHVsZVxuICAqXG4gICogRGVzY3JpcHRpb25cbiAgKi9cbiAgICBhbmd1bGFyXG4gICAgLm1vZHVsZSgnYXBwLmxhbmRpbmcnKVxuICAgIC5ydW4oYXBwUnVuKTtcblxuICAgIGFwcFJ1bi4kaW5qZWN0ID0gWydyb3V0ZXJIZWxwZXInXTtcblxuICAgIGZ1bmN0aW9uIGFwcFJ1biggcm91dGVySGVscGVyICl7XG4gICAgICByb3V0ZXJIZWxwZXIuY29uZmlndXJlU3RhdGUoZ2V0U3RhdGVzKCkpO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBnZXRTdGF0ZXMoKXtcbiAgICAgIHJldHVybiBbXG4gICAgICAgIHtcbiAgICAgICAgICBzdGF0ZTogJ2xhbmRpbmcnLFxuICAgICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgICAgICBhYnN0cmFjdCA6IHRydWUsXG4gICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnLi9jb21tb24vY29udGVudC5odG1sJ1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgXTtcbiAgICB9O1xufSkoKTsiLCIoZnVuY3Rpb24oKXtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8qKlxuICAqIGFwcC5uYXZiYXIgTW9kdWxlXG4gICpcbiAgKiBEZXNjcmlwdGlvblxuICAqL1xuICBhbmd1bGFyXG4gICAgLm1vZHVsZSgnYXBwLm5hdmJhcicpXG4gICAgLmNvbnRyb2xsZXIoJ05hdmJhckNvbnRyb2xsZXInLCBOYXZiYXJDb250cm9sbGVyKTtcblxuICAgIE5hdmJhckNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHVpYk1vZGFsJywnJHdpbmRvdycsJyRzY29wZSddO1xuXG4gICAgZnVuY3Rpb24gTmF2YmFyQ29udHJvbGxlcigkdWliTW9kYWwsICR3aW5kb3csJHNjb3BlKXtcbiAgICAgIHZhciB2bSA9IHRoaXM7IFxuICAgICAgdm0uc2Nyb2xsID0gZmFsc2U7XG4gICAgICB2bS50ZXh0ID0gXCJoZWxsbyBnbyBnb1wiO1xuICAgICAgdm0ub3BlblJlZ2lzdGVyTW9kYWwgPSBvcGVuUmVnaXN0ZXJNb2RhbDsgXG5cbiAgICAgIGZ1bmN0aW9uIG9wZW5SZWdpc3Rlck1vZGFsKCkge1xuICAgICAgICByZXR1cm4gJHVpYk1vZGFsLm9wZW4oe1xuICAgICAgICAgIGFuaW1hdGlvbjogdHJ1ZSxcbiAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3JlZ2lzdGVyLm1vZGFsLmh0bWwnLFxuICAgICAgICAgIGNvbnRyb2xsZXIgOiAnUmVnaXN0ZXJDb250cm9sbGVyJyxcbiAgICAgICAgICBjb250cm9sbGVyQXMgOidSZWdpc3RlckN0cmwnLFxuICAgICAgICAgIHNpemU6ICdtZCdcbiAgICAgICAgfSk7XG4gICAgICB9O1xuXG4gICAgICAkKFwiI3RyeVwiKS5vbihcInNjcm9sbHN0YXJ0XCIsZnVuY3Rpb24oKXtcbiAgICAgICAgYWxlcnQoXCJTdGFydGVkIHNjcm9sbGluZyFcIik7XG4gICAgICB9KTtcblxuICAgICAgLy8gYW5ndWxhci5lbGVtZW50KCR3aW5kb3cpLmJpbmQoXCJzY3JvbGxcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgLy8gICAkc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCl7XG4gICAgICAvLyAgICAgdm0uc2Nyb2xsID0gdHJ1ZTtcbiAgICAgIC8vICAgfSlcbiAgICAgIC8vICAgY29uc29sZS5sb2coXCJzdGFydCB0byBzY3JvbGxcIikgXG4gICAgICAvLyB9KTtcblxuXG4gICAgfTtcblxufSkoKTsiLCIoZnVuY3Rpb24oKXtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8qKlxuICAqIGJsb2Nrcy5yb3V0ZXIgTW9kdWxlXG4gICpcbiAgKiBEZXNjcmlwdGlvblxuICAqL1xuICBhbmd1bGFyXG4gICAgLm1vZHVsZSgnYmxvY2tzLnJvdXRlcicpXG4gICAgLnByb3ZpZGVyKCdyb3V0ZXJIZWxwZXInLHJvdXRlckhlbHBlclByb3ZpZGVyKTtcblxuICAgIHJvdXRlckhlbHBlclByb3ZpZGVyLiRpbmplY3QgPSBbJyRsb2NhdGlvblByb3ZpZGVyJywnJHN0YXRlUHJvdmlkZXInLCckdXJsUm91dGVyUHJvdmlkZXInXTtcblxuICBmdW5jdGlvbiByb3V0ZXJIZWxwZXJQcm92aWRlcigkbG9jYXRpb25Qcm92aWRlciwkc3RhdGVQcm92aWRlciwkdXJsUm91dGVyUHJvdmlkZXIpe1xuXG4gICAgdmFyIGNvbmZpZyA9IHtcbiAgICAgIGRvY1RpdGxlIDogJ+aIkOmVt+eGiuiykydcbiAgICB9XG5cbiAgICAvLyAkbG9jYXRpb25Qcm92aWRlci5odG1sNU1vZGUoe1xuICAgIC8vICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAvLyAgIHJlcXVpcmVCYXNlOiBmYWxzZVxuICAgIC8vIH0pO1xuXG4gICAgdGhpcy4kZ2V0ID0gUm91dGVySGVscGVyO1xuXG4gICAgUm91dGVySGVscGVyLiRpbmplY3QgPSBbJyRzdGF0ZScsJyRyb290U2NvcGUnXTtcblxuICAgIGZ1bmN0aW9uIFJvdXRlckhlbHBlcigkc3RhdGUsICRyb290U2NvcGUpe1xuICAgICAgdmFyIGhhc090aGVyd2lzZSA9IGZhbHNlOyBcblxuICAgICAgdmFyIHNlcnZpY2UgPSB7XG4gICAgICAgIGNvbmZpZ3VyZVN0YXRlIDogY29uZmlndXJlU3RhdGUsXG4gICAgICAgIGdldFN0YXRlcyA6IGdldFN0YXRlc1xuICAgICAgfTtcblxuICAgICAgaW5pdCgpO1xuXG4gICAgICByZXR1cm4gc2VydmljZTtcblxuICAgICAgZnVuY3Rpb24gY29uZmlndXJlU3RhdGUoc3RhdGVzLCBvdGhlcndpc2VQYXRoKXtcbiAgICAgICAgc3RhdGVzLmZvckVhY2goZnVuY3Rpb24oc3RhdGUpe1xuICAgICAgICAgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKHN0YXRlLnN0YXRlLHN0YXRlLmNvbmZpZyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICggb3RoZXJ3aXNlUGF0aCAmJiAhaGFzT3RoZXJ3aXNlKSB7XG4gICAgICAgICAgaGFzT3RoZXJ3aXNlID0gdHJ1ZTsgXG4gICAgICAgICAgJHVybFJvdXRlclByb3ZpZGVyLm90aGVyd2lzZShvdGhlcndpc2VQYXRoKTtcbiAgICAgICAgfTtcbiAgICAgIH07XG4gICAgICBmdW5jdGlvbiBnZXRTdGF0ZXMoKXsgcmV0dXJuICRzdGF0ZS5nZXQoKX07XG5cbiAgICAgIGZ1bmN0aW9uIGluaXQoKXtcbiAgICAgICAgdXBkYXRlRG9jVGl0bGUoKTtcbiAgICAgIH07XG5cbiAgICAgIGZ1bmN0aW9uIHVwZGF0ZURvY1RpdGxlKCl7XG4gICAgICAgICRyb290U2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VTdWNjZXNzJyxcbiAgICAgICAgICBmdW5jdGlvbihldmVudCwgdG9TdGF0ZSwgdG9QYXJhbXMsIGZyb21TdGF0ZSwgZnJvbVBhcmFtcyl7XG4gICAgICAgICAgICB2YXIgdGl0bGUgPSBjb25maWcuZG9jVGl0bGUgKyAnIHwgJyArICh0b1N0YXRlLnRpdGxlIHx8ICcnKTtcbiAgICAgICAgICAgICRyb290U2NvcGUudGl0bGUgPSB0aXRsZTtcbiAgICAgICAgICB9KTtcbiAgICAgIH1cbiAgICBcbiAgICB9O1xuICB9O1xuXG59KSgpO1xuIiwiKGZ1bmN0aW9uKCl7XG4gICd1c2Ugc3RyaWN0JztcbiAgLyoqXG4gICogYXBwLmNvcmUgTW9kdWxlXG4gICpcbiAgKiBEZXNjcmlwdGlvblxuICAqL1xuICBhbmd1bGFyXG4gICAgLm1vZHVsZSgnYXBwLmNvcmUnKVxuICAgIC5mYWN0b3J5KCdBY2NvdW50U2VydmljZScsQWNjb3VudFNlcnZpY2UpO1xuXG4gICAgQWNjb3VudFNlcnZpY2UuJGluamVjdCA9IFsnJGh0dHAnXTtcblxuICAgIGZ1bmN0aW9uIEFjY291bnRTZXJ2aWNlKCRodHRwKXtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBwb3N0QWNjb3VudCA6IHBvc3RBY2NvdW50XG4gICAgICAgIH07XG5cbiAgICAgICAgZnVuY3Rpb24gcG9zdEFjY291bnQoYWNjb3VudCl7XG4gICAgICAgICAgcmV0dXJuICRodHRwLnBvc3QoJy9hcGkvYWNjb3VudHMnLCBhY2NvdW50KVxuICAgICAgICAgICAgICAgICAgLnRoZW4ocG9zdFN1Y2Nlc3MpXG4gICAgICAgICAgICAgICAgICAuY2F0Y2gocG9zdEZhaWxlZCk7XG5cbiAgICAgICAgICBmdW5jdGlvbiBwb3N0U3VjY2VzcyhyZXMpe1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5kYXRhO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICBmdW5jdGlvbiBwb3N0RmFpbGVkKHJlcyl7XG4gICAgICAgICAgICByZXR1cm4gY29uc29sZS5sb2cocmVzKTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgIH07IFxuICAgIH07XG5cbn0pKCk7IiwiKGZ1bmN0aW9uKCl7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvKipcbiAgKiBhcHAucmVnaXN0ZXIgTW9kdWxlXG4gICpcbiAgKiBEZXNjcmlwdGlvblxuICAqL1xuICBhbmd1bGFyXG4gICAgLm1vZHVsZSgnYXBwLnJlZ2lzdGVyJylcbiAgICAuY29udHJvbGxlcignUmVnaXN0ZXJDb250cm9sbGVyJyxSZWdpc3RlckNvbnRyb2xsZXIpO1xuXG4gICAgUmVnaXN0ZXJDb250cm9sbGVyLiRpbmplY3QgPSBbJ0FjY291bnRTZXJ2aWNlJywnJHVpYk1vZGFsSW5zdGFuY2UnXTtcblxuICAgIGZ1bmN0aW9uIFJlZ2lzdGVyQ29udHJvbGxlcihBY2NvdW50U2VydmljZSwkdWliTW9kYWxJbnN0YW5jZSl7XG4gICAgICB2YXIgdm0gPSB0aGlzOyBcbiAgICAgIHZtLmFjY291bnQgPSB7fTtcbiAgICAgIHZtLnN1Ym1pdEFjY291bnQgPSBzdWJtaXRBY2NvdW50O1xuICAgICAgdm0uY2FuY2VsID0gY2FuY2VsOyBcblxuICAgICAgZnVuY3Rpb24gc3VibWl0QWNjb3VudCgpe1xuICAgICAgIFxuICAgICAgICBBY2NvdW50U2VydmljZS5wb3N0QWNjb3VudCh2bS5hY2NvdW50KS50aGVuKGZ1bmN0aW9uKHJlcyl7XG4gICAgICAgICAgaWYgKHJlcykge1xuICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcygnY2FuY2VsJyk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuXG4gICAgICBmdW5jdGlvbiBjYW5jZWwoKXtcbiAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcygnY2FuY2VsJyk7XG4gICAgICB9O1xuICAgIH07XG5cbn0pKCk7Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
